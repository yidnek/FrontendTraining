if(!window.AdFuelUtils){function createAdFuelUtilities(){function e(e){return e&&DataView.prototype.isPrototypeOf(e)}function t(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function n(e){return"string"!=typeof e&&(e=String(e)),e}function o(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return L.iterable&&(t[Symbol.iterator]=function(){return t}),t}function r(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function i(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function a(e){var t=new FileReader,n=i(t);return t.readAsArrayBuffer(e),n}function l(e){var t=new FileReader,n=i(t);return t.readAsText(e),n}function s(e){for(var t=new Uint8Array(e),n=new Array(t.length),o=0;o<t.length;o++)n[o]=String.fromCharCode(t[o]);return n.join("")}function u(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function c(){return this.bodyUsed=!1,this._initBody=function(t){this._bodyInit=t,t?"string"==typeof t?this._bodyText=t:L.blob&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:L.formData&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:L.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():L.arrayBuffer&&L.blob&&e(t)?(this._bodyArrayBuffer=u(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):L.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(t)||B(t))?this._bodyArrayBuffer=u(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):L.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},L.blob&&(this.blob=function(){var e=r(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?r(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(a)}),this.text=function(){var e=r(this);if(e)return e;if(this._bodyBlob)return l(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(s(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},L.formData&&(this.formData=function(){return this.text().then(f)}),this.json=function(){return this.text().then(JSON.parse)},this}function d(e){var t=e.toUpperCase();return j.indexOf(t)>-1?t:e}function f(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),o=n.shift().replace(/\+/g," "),r=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(o),decodeURIComponent(r))}}),t}function g(e){var t=new Headers,n=e.replace(/\r?\n[\t ]+/g," ");return n.split(/\r?\n/).forEach(function(e){var n=e.split(":"),o=n.shift().trim();if(o){var r=n.join(":").trim();t.append(o,r)}}),t}function p(e,t,n){var o=Array.isArray(t),r=n||{arrayMerge:h},i=r.arrayMerge||h;return o?Array.isArray(e)?i(e,t,n):w(t,n):v(e,t,n)}function h(e,t,n){var o=e.slice();return t.forEach(function(t,r){if(void 0===o[r]){var i=!1!==Qe,a=i&&m(t);o[r]=a?p(Y(t),t,n):t}else m(t)?o[r]=Ve(e[r],t,n):-1===e.indexOf(t)&&o.push(t)}),o}function m(e){var t=e&&"object"==typeof e;return t&&"[object RegExp]"!==Object.prototype.toString.call(e)&&"[object Date]"!==Object.prototype.toString.call(e)}function w(e,t){var n=t&&!0===t.clone;return n&&m(e)?p(Y(e),e,t):e}function v(e,t,n){var o={};return m(e)&&Object.keys(e).forEach(function(t){o[t]=w(e[t],n)}),Object.keys(t).forEach(function(r){m(t[r])&&e[r]?o[r]=p(e[r],t[r],n):o[r]=w(t[r],n)}),o}function y(){return new Promise(function(e,t){fetch(ee).then(function(t){e(t.json())}).catch(function(e){t("Could not get user location: ",e)})})}function b(e,t){t=t||"0";for(var n="",o=0;o<e;o+=1)n+=t;return n}function S(e,t){return b(Math.max(0,t))+e}function E(e,t,n){return parseInt(e.substr(t,n),2)}function A(e,t,n){return new Date(100*E(e,t,n))}function _(e,t){return 1===parseInt(e.substr(t,1),2)}function O(e){var t=E(e);return String.fromCharCode(t+65).toLowerCase()}function C(e,t,n){var o=e.substr(t,n);return O(o.slice(0,n/2))+O(o.slice(n/2))}function T(e){var t=e.input,n=e.output,o=e.startPosition,r=e.field,i=r.type,a=r.numBits,l=r.decoder,s=r.validator,u=r.listCount;if("function"==typeof s&&!s(n))return{newPosition:o};if("function"==typeof l)return l(t,n,o);var c="function"==typeof a?a(n):a;switch(i){case"int":return{fieldValue:E(t,o,c)};case"bool":return{fieldValue:_(t,o)};case"date":return{fieldValue:A(t,o,c)};case"bits":return{fieldValue:t.substr(o,c)};case"list":return k(t,n,o,r,u);case"language":return{fieldValue:C(t,o,c)};default:throw new Error("ConsentString - Unknown field type "+i+" for decoding")}}function k(e,t,n,o,r){var i=0;"function"==typeof r?i=r(t):"number"==typeof r&&(i=r);for(var a=n,l=[],s=0;s<i;s+=1){var u=x({input:e,fields:o.fields,startPosition:a});a=u.newPosition,l.push(u.decodedObject)}return{fieldValue:l,newPosition:a}}function x(e){var t=e.input,n=e.fields,o=e.startPosition||0,r=o,i=n.reduce(function(e,n){var o=n.name,i=n.numBits,a=T({input:t,output:e,startPosition:r,field:n}),l=a.fieldValue,s=a.newPosition;return void 0!==l&&(e[o]=l),void 0!==s?r=s:"number"==typeof i&&(r+=i),e},{});return{decodedObject:i,newPosition:r}}function I(e,t){t=t||xe;var n=E(e,0,ke);if("number"!=typeof n)throw new Error("ConsentString - Unknown version number in the string to decode");if(!xe[n])throw new Error("ConsentString - Unsupported version "+n+" in the string to decode");var o=t[n].fields,r=x({input:e,fields:o}),i=r.decodedObject;return i}function F(e,t){for(var n=e;n.length%4!=0;)n+="=";n=n.replace(/-/g,"+").replace(/_/g,"/");for(var o=Te.decode(n),r="",i=0;i<o.length;i+=1){var a=o.charCodeAt(i).toString(2);r+=S(a,8-a.length)}return I(r,t)}var P,R="AdFuel Utilities",U="v3.1.17",D=document.location.hostname.indexOf("cnn.com")>=0?"cdn.cnn.com":"i.cdn.turner.com";window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],P=function(){"use strict";function e(){}function t(e){if(!(this instanceof t))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],a(e,this)}function n(e,n){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,t._immediateFn(function(){var t=1===e._state?n.onFulfilled:n.onRejected;if(null!==t){var i;try{i=t(e._value)}catch(e){return void r(n.promise,e)}o(n.promise,i)}else(1===e._state?o:r)(n.promise,e._value)})):e._deferreds.push(n)}function o(e,n){try{if(n===e)throw new TypeError("A promise cannot be resolved with itself.");if(n&&("object"==typeof n||"function"==typeof n)){var o=n.then;if(n instanceof t)return e._state=3,e._value=n,void i(e);if("function"==typeof o)return void a(function(e,t){return function(){e.apply(t,arguments)}}(o,n),e)}e._state=1,e._value=n,i(e)}catch(t){r(e,t)}}function r(e,t){e._state=2,e._value=t,i(e)}function i(e){2===e._state&&0===e._deferreds.length&&t._immediateFn(function(){e._handled||t._unhandledRejectionFn(e._value)});for(var o=0,r=e._deferreds.length;r>o;o++)n(e,e._deferreds[o]);e._deferreds=null}function a(e,t){var n=!1;try{e(function(e){n||(n=!0,o(t,e))},function(e){n||(n=!0,r(t,e))})}catch(e){if(n)return;n=!0,r(t,e)}}var l=setTimeout;t.prototype.catch=function(e){return this.then(null,e)},t.prototype.then=function(t,o){var r=new this.constructor(e);return n(this,new function(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}(t,o,r)),r},t.prototype.finally=function(e){var t=this.constructor;return this.then(function(n){return t.resolve(e()).then(function(){return n})},function(n){return t.resolve(e()).then(function(){return t.reject(n)})})},t.all=function(e){return new t(function(t,n){function o(e,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var l=a.then;if("function"==typeof l)return void l.call(a,function(t){o(e,t)},n)}r[e]=a,0==--i&&t(r)}catch(e){n(e)}}if(!e||void 0===e.length)throw new TypeError("Promise.all accepts an array");var r=Array.prototype.slice.call(e);if(0===r.length)return t([]);for(var i=r.length,a=0;r.length>a;a++)o(a,r[a])})},t.resolve=function(e){return e&&"object"==typeof e&&e.constructor===t?e:new t(function(t){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.race=function(e){return new t(function(t,n){for(var o=0,r=e.length;r>o;o++)e[o].then(t,n)})},t._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){l(e,0)},t._unhandledRejectionFn=function(e){void 0!==console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};var s=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==s)return s;throw Error("unable to locate global object")}();s.Promise||(s.Promise=t)},"object"==typeof exports&&"undefined"!=typeof module?P():"function"==typeof define&&define.amd?define(P):P(),"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){"use strict";if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),o=1;o<arguments.length;o++){var r=arguments[o];if(null!=r)for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n},writable:!0,configurable:!0}),function(e){"use strict";function t(){return u&&u.call(s)||(new Date).getTime()}var n=[],o={},r={},i=function(){},a="-----";a+=a,a+=a,a+=a,a+=a;var l="\n\n\n\n\n\n",s=window.performance,u=s&&(s.now||s.mozNow||s.msNow||s.oNow||s.webkitNow);e.log&&"function"==typeof e.log||(e.log=i),e.profile&&"function"==typeof e.profile||(e.profile=i),e.profileEnd&&"function"==typeof e.profileEnd||(e.profileEnd=i),e.timeStamp&&"function"==typeof e.timeStamp||(e.timeStamp=i),e.trace&&"function"==typeof e.trace||(e.trace=i),e.debug&&"function"==typeof e.debug||(e.debug=e.log),e.info&&"function"==typeof e.info||(e.info=e.log),e.warn&&"function"==typeof e.warn||(e.warn=e.log),e.error&&"function"==typeof e.error||(e.error=e.log),e.dir&&"function"==typeof e.dir||(e.dir=e.log),e.dirxml&&"function"==typeof e.dirxml||(e.dirxml=e.dir);var c=!1;(c||!e.group)&&(e.group=function(t){n.push(t),e.log(a+"\nBEGIN GROUP: "+t)}),(c||!e.groupCollapsed)&&(e.groupCollapsed=e.group),(c||!e.groupEnd)&&(e.groupEnd=function(){e.log("END GROUP: "+n.pop()+"\n"+a)}),(c||!e.time)&&(e.time=function(e){o[e]=t()}),(c||!e.timeEnd)&&(e.timeEnd=function(n){e.log(n+": "+(t()-o[n]).toFixed(3)+"ms"),delete o[n]}),(c||!e.assert)&&(e.assert=function(t,n){t||e.error("Assertion failed: "+n)}),(c||!e.count)&&(e.count=function(t){r[t]||(r[t]=0),r[t]++,e.log(t+": "+r[t])}),(c||!e.clear)&&(e.clear=function(){e.log(l)})}(window.console=window.console||{}),function(){function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}"function"!=typeof window.CustomEvent&&(e.prototype=window.Event.prototype,window.CustomEvent=e)}(),!window.addEventListener&&function(e,t,n,o,r,i,a){e[o]=t[o]=n[o]=function(e,t){var n=this;a.unshift([n,e,t,function(e){e.currentTarget=n,e.preventDefault=function(){e.returnValue=!1},e.stopPropagation=function(){e.cancelBubble=!0},e.target=e.srcElement||n,t.call(n,e)}]),this.attachEvent("on"+e,a[0][3])},e[r]=t[r]=n[r]=function(e,t){for(var n,o=0;n=a[o];++o)if(n[0]==this&&n[1]==e&&n[2]==t)return this.detachEvent("on"+e,a.splice(o,1)[0][3])},e[i]=t[i]=n[i]=function(e){return this.fireEvent("on"+e.type,e)}}(window.prototype,document.prototype,Element.prototype,"addEventListener","removeEventListener","dispatchEvent",[]),Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){var n;if(null===this)throw new TypeError('"this" is null or not defined');var o=Object(this),r=o.length>>>0;if(0===r)return-1;var i=+t||0;if(Math.abs(i)===1/0&&(i=0),i>=r)return-1;for(n=Math.max(i>=0?i:r-Math.abs(i),0);r>n;){if(n in o&&o[n]===e)return n;n++}return-1}),Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)});var L={searchParams:"URLSearchParams"in self,iterable:"Symbol"in self&&"iterator"in Symbol,blob:"FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in self,arrayBuffer:"ArrayBuffer"in self};if(L.arrayBuffer)var N=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],B=ArrayBuffer.isView||function(e){return e&&N.indexOf(Object.prototype.toString.call(e))>-1};window.Headers=function(e){this.map={},e instanceof Headers?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)},Headers.prototype.append=function(e,o){e=t(e),o=n(o);var r=this.map[e];this.map[e]=r?r+", "+o:o},Headers.prototype.delete=function(e){delete this.map[t(e)]},Headers.prototype.get=function(e){return e=t(e),this.has(e)?this.map[e]:null},Headers.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},Headers.prototype.set=function(e,o){this.map[t(e)]=n(o)},Headers.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},Headers.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),o(e)},Headers.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),o(e)},Headers.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),o(e)},L.iterable&&(Headers.prototype[Symbol.iterator]=Headers.prototype.entries);var j=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];window.Request=function(e,t){t=t||{};var n=t.body;if(e instanceof Request){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new Headers(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new Headers(t.headers)),this.method=d(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)},Request.prototype.clone=function(){return new Request(this,{body:this._bodyInit})},c.call(Request.prototype),window.Response=function(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new Headers(t.headers),this.url=t.url||"",this._initBody(e)},c.call(Response.prototype),Response.prototype.clone=function(){return new Response(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new Headers(this.headers),url:this.url})},Response.error=function(){var e=new Response(null,{status:0,statusText:""});return e.type="error",e};var M=[301,302,303,307,308];Response.redirect=function(e,t){if(-1===M.indexOf(t))throw new RangeError("Invalid status code");return new Response(null,{status:t,headers:{location:e}})};var q=window.DOMException;try{new q}catch(e){q=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},q.prototype=Object.create(Error.prototype),q.prototype.constructor=q}window.fetch=function(e,t){return new Promise(function(n,o){function r(){a.abort()}var i=new Request(e,t);if(i.signal&&i.signal.aborted)return o(new q("Aborted","AbortError"));var a=new XMLHttpRequest;a.onload=function(){var e={status:a.status,statusText:a.statusText,headers:g(a.getAllResponseHeaders()||"")};e.url="responseURL"in a?a.responseURL:e.headers.get("X-Request-URL");var t="response"in a?a.response:a.responseText;n(new Response(t,e))},a.onerror=function(){o(new TypeError("Network request failed"))},a.ontimeout=function(){o(new TypeError("Network request failed"))},a.onabort=function(){o(new q("Aborted","AbortError"))},a.open(i.method,i.url,!0),"include"===i.credentials?a.withCredentials=!0:"omit"===i.credentials&&(a.withCredentials=!1),"responseType"in a&&L.blob&&(a.responseType="blob"),i.headers.forEach(function(e,t){a.setRequestHeader(t,e)}),i.signal&&(i.signal.addEventListener("abort",r),a.onreadystatechange=function(){4===a.readyState&&i.signal.removeEventListener("abort",r)}),a.send(void 0===i._bodyInit?null:i._bodyInit)})},fetch.polyfill=!0;var z=function(e){return"[object Function]"===se.call(e)},G=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},W=function(e){var t=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"),n="[\\?&]"+t+"=([^&#]*)",o=new RegExp(n);if(document.location.search){var r=o.exec(document.location.search);return r?r[1]:""}return""},H=function(e){return ve.log("looking for cookie with name of: ",e),"undefined"!=typeof window&&(!!document.cookie&&(ve.log("found?",document.cookie.indexOf("; "+e+"=")>=0||0===document.cookie.indexOf(e+"=")),document.cookie.indexOf("; "+e+"=")>=0||0===document.cookie.indexOf(e+"=")))},Q=function(){return ve.log("getting UMTO cookies"),"_fw_vcid2=48804:"+K("bea4")+"&krux_user="+K("kxuser")+"&zwmc="+K("zwmc")+"&ifyr="+K("ifyr")+"&hkgc="+K("hkgc")+"&goiz="+K("goiz")},V=function(){var e,t;return void 0!==window.innerWidth?(e=window.innerWidth,t=window.innerHeight):void 0!==document.documentElement&&void 0!==document.documentElement.clientWidth&&0!==document.documentElement.clientWidth?(e=document.documentElement.clientWidth,t=document.documentElement.clientHeight):(e=document.getElementsByTagName("body")[0].clientWidth,t=document.getElementsByTagName("body")[0].clientHeight),[e,t]},J=function(){ve.time("Getting Browser Information");var e,t=navigator.userAgent,n=t.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(n[1])?(e=/\brv[ :]+(\d+)/g.exec(t)||[],"IE "+(e[1]||"")):"Chrome"===n[1]&&(e=t.match(/\b(OPR|Edge)\/(\d+)/),null!==e)?e.slice(1).join(" ").replace("OPR","Opera"):(n=n[2]?[n[1],n[2]]:[navigator.appName,navigator.appVersion,"-?"],null!==(e=t.match(/version\/(\d+)/i))&&n.splice(1,1,e[1]),ve.timeEnd("Getting Browser Information"),n.join(" "))},K=function(e){var t=function(e){if(!document.cookie)return null;for(var t=document.cookie.split(";"),n=e+"=",o=0;o<t.length;o++){for(var r=t[o];" "===r.charAt(0);)r=r.substring(1,r.length);if(0===r.indexOf(n))return r.substring(n.length,r.length)}return null},n=!1,o=null;if(localStorage&&(n=!0),"undefined"==typeof value){n&&(o=localStorage.getItem(e)),n&&null!==o||(o=t(e));try{o=JSON.parse(o)}catch(e){}}return o},Y=function(e){return Array.isArray(e)?[]:{}};p.all=function(e,t){if(!Array.isArray(e)||e.length<2)throw new Error("first argument should be an array with at least two elements");return e.reduce(function(e,n){return p(e,n,t)})};var Z=function(e,t){return p(e,t)},X=K("countryCode")||(K("CG")?K("CG").substr(0,2):""),$="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwbGF0Zm9ybSI6IndlYiIsInByb2R1Y3QiOiJhZGZ1ZWwiLCJuZXR3b3JrIjoiY25uIiwiYXBwSWQiOiJjbm4tYWRmdWVsLXdlYi14bWQ2dTkifQ.N-lYZh_mvCV2gChDusNhd85B2BD7AiCIcNY2Gr5Rc6c",ee="https://geo.ngtv.io/locate?appId="+$,te=K("SelectedEdition")?K("SelectedEdition"):"www",ne=["160x600","300x250","300x600","320x50","728x90","970x90","970x250"],oe=["_ns_","_nfs_"],re=["super-ad-zone","super_ad_zone"],ie=["CNN/health","CNN/health/healthgrades","CNN/health/leaf","CNN/health/list","CNN/health/photos","CNN/health/specials","CNN/health/video","CNN/student-news"],ae=function(e,t,n,o){var r,i=ue,a=ue,l=ue,s=ue,u=ue,c=ue,d=ue,f=ue,g=!1,p=o||"",h=n||e.toLowerCase(),m=W("debug").split(","),w=G(window.console)&&z(window.console.log)&&("true"===m[0]||m.indexOf(h.toLowerCase())>=0);w&&(i=function(){r=["%c["+e+" "+t+"] ",p],r.push.apply(r,arguments),window.console.log.apply(window.console,r)},a=function(){r=["%c["+e+" "+t+"] ",p],r.push.apply(r,arguments),window.console.info.apply(window.console,r)},l=function(){r=["%c["+e+" "+t+"] ",p],r.push.apply(r,arguments),window.console.warn.apply(window.console,r)},f=function(){r=["%c["+e+" "+t+"] ",p],r.push.apply(r,arguments),window.console.error.apply(window.console,r)},c=function(n){if(!g){var o=["%c["+e+" "+t+"]",p,n];g=!0,window.console.groupCollapsed.apply(window.console,o)}},d=function(n){var o=["%c["+e+" "+t+"]",p,n];g=!1;try{window.console.groupEnd.apply(window.console,o)}catch(e){}},s=function(n){var o="["+e+" "+t+"] - "+n;c(n),Ze(o+"-Start"),window.console.time(o)},u=function(n){var o="["+e+" "+t+"] - "+n;Ze(o+"-End"),Xe(o,o+"-Start",o+"-End"),d(n),window.console.timeEnd(o)});var v={log:i,info:a,warn:l,error:f,time:s,timeEnd:u,group:c,groupEnd:d};return v},le=Object.prototype,se=le.toString,ue=function(){},ce=!1,de=document.createElement("a");de.href=document.location.href;var fe,ge,pe,he,me,we=de.hostname,ve=(de.pathname,ae(R,U,"utils","color: coral; padding: 2px")),ye=function(e,t,n){e.addEventListener?e.addEventListener(t,n,!0):e.attachEvent&&e.attachEvent("on"+t,n)},be=function(e,t){if(!z(e))throw new TypeError("Bind must be called on a function");var n=Array.prototype.slice.call(arguments,2);return function(){return e.apply(t,n.concat(Array.prototype.slice.call(arguments)))}},Se=/(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()\[\]\.,;:\s@\"]+\.)+[^<>()\[\]\.,;:\s@\"]{2,})/i,Ee=function(){if(document.location.search){var e,t=document.location.search.search(Se)+1;try{e=decodeURIComponent(document.location.search).search(Se)+1}catch(n){e=t}return 1===t||1===e}return!1},Ae=function(){if(document.location.hash){var e,t=document.location.hash.search(Se)+1;try{e=decodeURIComponent(document.location.hash).search(Se)+1}catch(n){e=t}return t||e}return!1},_e=function(){if(document.referrer){var e,t=document.referrer.search(Se)+1;try{e=decodeURIComponent(document.location.referrer).search(Se)+1}catch(n){e=t}return t||e}return!1},Oe=function(){if(Ee()||Ae()||_e()){if(window.AdFuel){ve.log("Filtering DFP Request due to PII in query string.");for(var e=Object.getOwnPropertyNames(window.AdFuel),t=0;t<e.length;t++)window.AdFuel[e[t]]=function(){};window.googletag=null}return!0}return!1},Ce={qs:Ee,hash:Ae,ref:_e,filter:Oe},Te={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){var t,n,o,r,i,a,l,s="",u=0;for(e=Te._utf8_encode(e);u<e.length;)t=e.charCodeAt(u++),n=e.charCodeAt(u++),o=e.charCodeAt(u++),r=t>>2,i=(3&t)<<4|n>>4,a=(15&n)<<2|o>>6,l=63&o,isNaN(n)?a=l=64:isNaN(o)&&(l=64),s=s+this._keyStr.charAt(r)+this._keyStr.charAt(i)+this._keyStr.charAt(a)+this._keyStr.charAt(l);return s},decode:function(e){var t,n,o,r,i,a,l,s="",u=0;for(e=e.replace(/[^A-Za-z0-9+\/=]/g,"");u<e.length;)r=this._keyStr.indexOf(e.charAt(u++)),i=this._keyStr.indexOf(e.charAt(u++)),a=this._keyStr.indexOf(e.charAt(u++)),l=this._keyStr.indexOf(e.charAt(u++)),t=r<<2|i>>4,n=(15&i)<<4|a>>2,o=(3&a)<<6|l,s+=String.fromCharCode(t),64!=a&&(s+=String.fromCharCode(n)),64!=l&&(s+=String.fromCharCode(o));return s=Te._utf8_decode(s),s},_utf8_encode:function(e){e=e.replace(/rn/g,"n");for(var t="",n=0;n<e.length;n++){var o=e.charCodeAt(n);o<128?t+=String.fromCharCode(o):o>127&&o<2048?(t+=String.fromCharCode(o>>6|192),t+=String.fromCharCode(63&o|128)):(t+=String.fromCharCode(o>>12|224),t+=String.fromCharCode(o>>6&63|128),t+=String.fromCharCode(63&o|128))}return t},_utf8_decode:function(e){for(var t="",n=0,o=c1=c2=0;n<e.length;)o=e.charCodeAt(n),o<128?(t+=String.fromCharCode(o),n++):o>191&&o<224?(c2=e.charCodeAt(n+1),t+=String.fromCharCode((31&o)<<6|63&c2),n+=2):(c2=e.charCodeAt(n+1),c3=e.charCodeAt(n+2),t+=String.fromCharCode((15&o)<<12|(63&c2)<<6|63&c3),n+=3);return t}},ke=6,xe={1:{version:1,metadataFields:["version","created","lastUpdated","cmpId","cmpVersion","consentScreen","vendorListVersion"],fields:[{name:"version",type:"int",numBits:6},{name:"created",type:"date",numBits:36},{name:"lastUpdated",type:"date",numBits:36},{name:"cmpId",type:"int",numBits:12},{name:"cmpVersion",type:"int",numBits:12},{name:"consentScreen",type:"int",numBits:6},{name:"consentLanguage",type:"language",numBits:12},{name:"vendorListVersion",type:"int",numBits:12},{name:"purposeIdBitString",type:"bits",numBits:24},{name:"maxVendorId",type:"int",numBits:16},{name:"isRange",type:"bool",numBits:1},{name:"vendorIdBitString",type:"bits",numBits:function(e){return e.maxVendorId},validator:function(e){return!e.isRange}},{name:"defaultConsent",type:"bool",numBits:1,validator:function(e){return e.isRange}},{name:"numEntries",numBits:12,type:"int",validator:function(e){return e.isRange}},{name:"vendorRangeList",type:"list",listCount:function(e){return e.numEntries},validator:function(e){return e.isRange},fields:[{name:"isRange",type:"bool",numBits:1},{name:"startVendorId",type:"int",numBits:16},{name:"endVendorId",type:"int",numBits:16,validator:function(e){return e.isRange}}]}]}},Ie=null,Fe=!1,Pe=!1,Re=!1,Ue=["AT","BE","BG","HR","CY","CZ","DK","EE","FI","FR","DE","GR","HU","IE","IT","LV","LT","LU","MT","NL","PL","PT","RO","SK","SI","ES","SE","GB","UK","IS","LI","NO"],De=function(){if(H("eupubconsent"))return ve.log("Getting Consent Object..."),K("eupubconsent");var e="";return window.__cmp&&"function"==typeof window.__cmp&&window.__cmp("getVendorConsents",null,function(t){e=t.metadata}),e},Le=function(){if(Pe)return Fe;if(window.CNN&&window.CNN.UserConsent)return ve.log("Getting Consent from UserConsent object..."),Fe=!window.CNN.UserConsent.isEnabled()||window.CNN.UserConsent.getUserConsentAdvertisingState(),ve.log("Consent Granted: ",Fe),Pe=!0,Fe;if(!window.OptanonActiveGroups)return window.__cmp&&"function"==typeof window.__cmp?(ve.log("Getting Consent from CMP API..."),window.__cmp("getVendorConsents",null,function(e){return Object.keys(e.purposeConsents).forEach(function(t){Fe||(Fe=e.purposeConsents[t])}),Fe}),ve.log("Consent Granted: ",Fe),Pe=!0,Fe):(ve.warn("No CMP API... GDPR consent is implied to be false."),ve.log("Consent Granted: ",!1),Pe=!0,!1);ve.log("Inspecting Optanon Active Groups...");var e=window.OptanonActiveGroups.split(",");Fe=e.indexOf("4")>=0,ve.log("Consent Granted: ",Fe),Pe=!0},Ne=function(e){return new Promise(function(t){var n;if(H("countryCode"))n=K("countryCode"),ve.log("GDPR Applies: ",Ue.indexOf(n)>=0),Re=Ue.indexOf(n)>=0,t(Ue.indexOf(n)>=0);else if(null===Ie){var o="https://geo.ngtv.io/locate";e&&(o+="?appId="+e),fetch(o).then(function(e){return e.json()}).then(function(e){Ie=e,ve.log("GDPR Applies: ",Ue.indexOf(e.country)>=0),Re=e.country&&Ue.indexOf(e.country)>=0,n=e.country,t(e.country&&Ue.indexOf(e.country)>=0)}).catch(function(e){ve.err("Could Not Get User Location: ",e),Re=!1,t(!1)})}else ve.log("GDPR Applies: ",Ue.indexOf(Ie.country)>=0),Re=Ie.country&&Ue.indexOf(Ie.country)>=0,t(Ie.country&&Ue.indexOf(Ie.country)>=0)})},Be={},je=function(e){var t=e.rktr_slot_id;ve.group("Checking Monetization for: "+t);var n=e.rktr_ad_id,o=e.responsive,r=e.sizes;if(void 0!==Be[t])return ve.log("Slot already monetized.",Be[t]),ve.groupEnd("Checking Monetization for: "+t),Be[t];var i=t;if("page"===i)return ve.log("Skipping Page-Level Object."),ve.groupEnd("Checking Monetization for: "+t),Be[i]={isMonetized:!1,filteredSizes:[]},{isMonetized:!1,filteredSizes:[]};var a=!0,l=!1,s=V(),u=[],c=[];return oe.forEach(function(e){i.indexOf(e)>0&&(ve.log("Slot includes invalid mapping: ",e),Be[i]=!1,a=!1)}),re.forEach(function(e){n&&n.indexOf(e)>=0&&(ve.log("Slot contains an invalid Ad Unit segment: ",e),a=!1)}),ie.forEach(function(e){n===e&&(ve.log("Slot uses an invalid Ad Unit: ",e),a=!1)}),o&&o.length>0&&o.map(function(e){return!l&&parseInt(e[0][0],10)<s[0]&&parseInt(e[0][1],10)<s[1]&&(l=!0,ve.log("Checking Responsive Sizes: ",e,s),u=e[1],"suppress"!==e[1][0]&&"suppress"!==u||(ve.log("Slot is suppressed: ",e[1][0],u),a=!1)),e}),c=a&&u.length>0?u:r,a&&(c=c.filter(function(e){var t=e;return"suppress"!==t&&(t=t.join("x")),-1!==ne.indexOf(t)})),0===c.length&&(ve.log("Slot contains no monetized sizes.",c),Be[i]=!1,a=!1),ve.log("Slot is Monetized: ",a),ve.groupEnd("Checking Monetization for: "+t),Be[i]={isMonetized:a,filteredSizes:c},{isMonetized:a,filteredSizes:c}},Me=function(e,t){return null!==e&&Object.prototype.hasOwnProperty.call(e,t)},qe=function(e){return function(){e&&(e.apply(this,arguments),e=null)}},ze=(fe={},ge=function(e){return e in fe},pe=function(e,t){ge(e)||(fe[e]=[]),fe[e].push(t)},he=function(e){return ge(e)?Array.prototype.slice.call(fe[e]):[]},me=function(e){return!!ge(e)&&(fe[e].length=0,!0)},{has:ge,clearKeys:me,getKeys:he,addKey:pe}),Ge=function(e,t,n){return(Math.ceil(e/t)*t).toFixed(n)},We=function(){for(var e="",t=0;t<10;t++)e+=Math.floor(9*Math.random()).toString();return e},He=function(e,t,n){var o;return function(){var r=this,i=arguments,a=function(){o=null,n||e.apply(r,i)},l=n&&!o;clearTimeout(o),o=setTimeout(a,t),l&&e.apply(r,i)}},Qe=function(e){if(null===e||"object"!=typeof e)return e;if(e instanceof Date){var t=new Date;return t.setTime(e.getTime()),t}if(e instanceof Array){for(var n=[],o=0,r=e.length;o<r;o++)n[o]=Qe(e[o]);return n}if(e instanceof Object){var i={};for(var a in e)e.hasOwnProperty(a)&&(i[a]=Qe(e[a]));return i}throw new Error("Unable to copy obj! Its type isn't supported.")};ve.log("Hostname: ",we),ve.log("CountryCode: ",X),"true"===W("isIntl")?(ve.log("Faking international site. Using International PubIds."),ce=!0):we.search(/^.*(edition|edition\-m|arabic)\./)>=0?(ve.log("Full international site. Using International PubIds."),ce=!0):""===X||null===X?we.search(/^.*(cnnespanol|cnne\-test)\./)>=0?(ve.log("No country code. Using International PubIds."),ce=!0):ve.log("No country code. Domestic Site."):"US"!==X&&"CA"!==X?we.search(/^.*(money|cnnespanol|cnne\-test|\.cnn)\./)>=0?(ve.log("International country code. Using International PubIds."),ce=!0):ve.log("International country code but domestic site."):ve.log("Domestic site or country code.");var Ve=function(e,t){var n,o={};for(n in e)e.hasOwnProperty(n)&&(o[n]=e[n]);for(n in t)t.hasOwnProperty(n)&&(o[n]=t[n]);return o},Je=function(){return new Promise(function(e,t){window.CNN&&window.jQuery?window.CNN.Analytics&&window.CNN.Analytics.segment&&"function"==typeof window.CNN.Analytics.segment.trackPerformance?e():"function"==typeof window.jQuery.fn.onSegmentReady?jQuery(document).onSegmentReady(function(){e()}):t(new Error("trackPerformance not available")):t(new Error("trackPerformance not needed"))})},Ke=[],Ye=function(e){for(var t=window.performance.getEntriesByName("[ADFUEL] "+e),n=0;n<t.length;n++)Ke.push(t[n])},Ze=function(e){window.performance.mark("[ADFUEL] "+e)},Xe=function(e,t,n){window.performance.measure("[ADFUEL] "+e,"[ADFUEL] "+t,"[ADFUEL] "+n)},$e=function(){return window.performance.getEntriesByType("mark").filter(function(e){return e.name.indexOf("[ADFUEL]")})},et=function(){return window.performance.getEntriesByType("measure").filter(function(e){return e.name.indexOf("[ADFUEL]")})},tt={},nt=function(){return Object.getOwnPropertyNames(tt)},ot=function(e){return tt[e]||{}},rt=function(e,t){return"counts"!==e||tt[e][t]?"timeline"!==e||"request_to_dfp"!==t||tt[e][t]?tt[e][t]||{}:[]:0},it=function(e){var t,n,o=!1;tt[e.type]||(tt[e.type]={}),
tt[e.type][e.id]||(tt[e.type][e.id]=[],o=!0),t=o?[]:rt(e.type,e.id);var r=parseInt(t,10),i=e.data.id||1;switch(e.type){case"counts":if(0===t.length&&(t=0),"+"===e.data)r+=1;else{if("-"!==e.data)return ve.log("Metric data contains no operator for counting metrics.",e),!1;r-=1}tt[e.type][e.id]=r;break;case"modules":if(e.data.callback){var a=window.AdFuel.registeredModules.filter(function(t){return t.name===e.id});Array.isArray(a)&&(a=a[0]),0===t.length&&(t={});var l=Object.getOwnPropertyNames(a.callbacks),s=e.data.callback+"Callback";if(-1!==l.indexOf(s))for(var u=0;u<l.length;u++)t[l[u]]||(t[l[u]]={}),delete e.data.callback,t[l[u]]=Ve(t[l[u]],e.data);tt[e.type][e.id]=t}else n=Ve(t,e.data),tt[e.type][e.id]=n;break;case"requests":case"timeline":n={},t.length>0&&(n=t[i-1]),n=Ve(n,e.data),tt[e.type][e.id][i-1]=n;break;case"slots":default:n=Ve(t,e.data),tt[e.type][e.id]=n}return!0},at={metrics:tt,getMetricTypes:nt,getMetricsByType:ot,getMetricById:rt,addMetric:it},lt=/iPhone/i,st=/iPod/i,ut=/iPad/i,ct=/(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,dt=/Android/i,ft=/(?=.*\bAndroid\b)(?=.*\bSD4930UR\b)/i,gt=/(?=.*\bAndroid\b)(?=.*\b(?:KFOT|KFTT|KFJWI|KFJWA|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|KFARWI|KFASWI|KFSAWI|KFSAWA)\b)/i,pt=/Windows Phone/i,ht=/(?=.*\bWindows\b)(?=.*\bARM\b)/i,mt=/BlackBerry/i,wt=/BB10/i,vt=/Opera Mini/i,yt=/(CriOS|Chrome)(?=.*\bMobile\b)/i,bt=/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,St=new RegExp("(?:Nexus 7|BNTV250|Kindle Fire|Silk|GT-P1000)","i"),Et=function(e,t){return e.test(t)},At=function(e){var t=e||navigator.userAgent,n=t.split("[FBAN");if(void 0!==n[1]&&(t=n[0]),n=t.split("Twitter"),void 0!==n[1]&&(t=n[0]),this.apple={phone:Et(lt,t),ipod:Et(st,t),tablet:!Et(lt,t)&&Et(ut,t),device:Et(lt,t)||Et(st,t)||Et(ut,t)},this.amazon={phone:Et(ft,t),tablet:!Et(ft,t)&&Et(gt,t),device:Et(ft,t)||Et(gt,t)},this.android={phone:Et(ft,t)||Et(ct,t),tablet:!Et(ft,t)&&!Et(ct,t)&&(Et(gt,t)||Et(dt,t)),device:Et(ft,t)||Et(gt,t)||Et(ct,t)||Et(dt,t)},this.windows={phone:Et(pt,t),tablet:Et(ht,t),device:Et(pt,t)||Et(ht,t)},this.other={blackberry:Et(mt,t),blackberry10:Et(wt,t),opera:Et(vt,t),firefox:Et(bt,t),chrome:Et(yt,t),device:Et(mt,t)||Et(wt,t)||Et(vt,t)||Et(bt,t)||Et(yt,t)},this.seven_inch=Et(St,t),this.any=this.apple.device||this.android.device||this.windows.device||this.other.device||this.seven_inch,this.phone=this.apple.phone||this.android.phone||this.windows.phone,this.tablet=this.apple.tablet||this.android.tablet||this.windows.tablet,"undefined"==typeof window)return this},_t=function(){var e=new At;return e.Class=At,e},Ot=_t();ye(document,"AdFuelCreated",Oe);var Ct=window.CNN&&window.CNN.UserConsent&&window.CNN.UserConsent.isEnabled()&&window.CNN.UserConsent.isInGdprRegion()||!1,Tt={addEvent:ye,bind:be,cdnRoot:D,clone:Qe,countryCode:X,debounce:He,decodeFromBase64:F,gdprApplies:Re,getConsent:Le,getConsentString:De,getGDPRApplies:Ne,getLocation:y,generateCacheBuster:We,getBrowser:J,getLogger:ae,getURLParam:W,getUMTOCookies:Q,getViewport:V,hasCookie:H,hasOwn:Me,hasUserConsent:Ct,isFunction:z,isIntl:ce,isMobile:Ot,isMonetized:je,isObject:G,keyMap:ze,merge:Ve,mergeDeep:Z,metricApi:at,noop:ue,once:qe,performance:{adfuelEntries:Ke,getTrackPerformance:Je,mark:Ze,measure:Xe,marks:$e,measures:et,queueEntry:Ye},piiFilter:Ce,readCookie:K,roundFloat:Ge,selectedEdition:te,__VERSION__:U};window.AdFuelUtils=Tt}createAdFuelUtilities()}window.AdFuel=function(){function e(e){function t(t){"DOMContentLoaded"!==t||o||($.mark("AdFuel DOMContentLoaded"),X.autoDispatch&&(ve.log("DOM Content has loaded. Auto-Dispatching Queue..."),C()),o=!0,i=!0,e&&"function"==typeof e&&e()),"window.load"!==t||r||($.mark("AdFuel window.load"),X.autoDispatch&&(ve.log("Window has loaded. Auto-Dispatching Queue..."),C()),r=!0,i=!0,e&&"function"==typeof e&&e())}function n(){if(!i)try{document.documentElement.doScroll("left"),t("DOMContentLoaded")}catch(e){setTimeout(n,10)}}var o=!1,r=!1,i=!1;if(document.addEventListener)window.AdFuelUtils.addEvent(document,"DOMContentLoaded",function(){t("DOMContentLoaded")});else if(document.attachEvent){var a=!1;try{a=null!==window.frameElement}catch(e){}document.documentElement.doScroll&&!a&&n(),window.AdFuelUtils.addEvent(document,"readystatechange",function(){"complete"!==document.readyState&&"loaded"!==document.readyState&&"interactive"!==document.readyState||t("DOMContentLoaded")})}if(window.addEventListener||window.attachEvent)window.AdFuelUtils.addEvent(window,"load",function(){t("window.load")});else{var l=window.onload;window.onload=function(){l&&l(),t("window.load")}}"complete"!==document.readyState&&"loaded"!==document.readyState&&"interactive"!==document.readyState||t("DOMContentLoaded")}function t(){try{var e=window.AdFuelUtils.getURLParam("adsqa");if(e){var t=e.split("%3D");W=t[0],H=t[1],ue.pageTargets[W]=H}}catch(e){ve.error("checkForAdsQA",e)}}function n(e){$.mark("Applying Page-Level Targeting");for(var t=0;t<e.length;t++){for(var n=e[t],o=ue.pageTargets[n[0]]||[],r=0;r<n[1].length;r++){var i=n[1][r];o.indexOf(i)<0&&o.push(i)}ue.pageTargets[n[0]]=o}}function o(e){if(window[e]){if($.mark("Applying Window Site-Level Options."),window[e].adTargets)for(var t in window[e].adTargets)window[e].adTargets.hasOwnProperty(t)&&(ue.pageTargets[t]=window[e].adTargets[t]);if(window[e].slotTargets)for(var n in window[e].slotTargets)if(window[e].slotTargets.hasOwnProperty(n)){var o=window[e].slotTargets[n];for(var r in ue.slotTargets[n]||(ue.slotTargets[n]={}),o)o.hasOwnProperty(r)&&(ue.slotTargets[n][r]=o[r])}}}function r(e){var t=window.AdFuelUtils.clone(e.targeting);Array.isArray(t)||(t=[t]);var n=ue.slotTargets;if(n[e.rktr_slot_id])for(var o in n[e.rktr_slot_id])n[e.rktr_slot_id].hasOwnProperty(o)&&t.push([o,n[e.rktr_slot_id][o]]);return t}function i(){window.AdFuelUtils.addEvent(document,"GPTRenderComplete",function(e){var t=document.getElementById(e.detail.divId);t&&t.className.indexOf("adfuel-rendered")<0&&(t.className+=" adfuel-rendered")})}function a(e){var t=window.AdFuelUtils.clone(e);t&&(Array.isArray(t)||(t=[t]),0===t.length&&(t=Object.getOwnPropertyNames(re)));for(var n=0;n<t.length;n++){var o=t[n],r=document.getElementById(o);r&&r.className.indexOf("adfuel-rendered")>0&&(r.className=r.className.replace("adfuel-rendered",""))}}function l(e){var t=window.AdFuelUtils.clone(e);t&&(Array.isArray(t)||(t=[t]),0===t.length&&(t=Object.getOwnPropertyNames(re)));for(var n=0;n<t.length;n++){var o=t[n];re[o]&&delete re[o]}}function s(e){var t=window.AdFuelUtils.clone(e);t&&(Array.isArray(t)||(t=[e]),0===t.length&&(t=Object.getOwnPropertyNames(re))),ve.log("Removing Rocketeer Slots: ",t);for(var n=0;n<ie.length;n++){var o=ie[n].rktr_slot_id;(t.indexOf(o)>=0||0===t.length)&&ie.splice(n,1)}}function u(){window.googletag.setAdIframeTitle(X.iframeTitle)}function c(e,t){if(e&&t){var n=t,o=AdFuel.dynamicTargeting.pageTargets[e]||[];Array.isArray(o)||(o=[o]),Array.isArray(n)||(n=[n]);for(var r=0;r<n.length;r++)o.indexOf(n[r])<0&&o.push(n[r]);ue.pageTargets[e]=o.filter(function(e,t){return o.indexOf(e)===t}),Ae.executeWhenAvailable("adding page-level targeting",function(){var t={};t[e]=AdFuel.dynamicTargeting.pageTargets[e],Ae.setTargeting(e,AdFuel.dynamicTargeting.pageTargets[e])})}}function d(e,t){Ae.executeWhenAvailable("removing page-level targeting",function(){var n=ue.pageTargets[e];void 0!==t&&(n.indexOf(t)>=0&&n.splice(n.indexOf(t),1),ue.pageTargets[e]=n),void 0!==e&&void 0===t?(Ae.clearTargeting(e),delete ue.pageTargets[e],n&&(n.length=0)):void 0===e&&(Ae.clearTargeting(),ue.pageTargets={}),void 0!==e&&n&&0===n.length?delete ue.pageTargets[e]:void 0!==e&&n&&n.length>0?(ue.pageTargets[e]=n,Ae.setTargeting(e,n)):(ue.pageTargets={},W&&(ue.pageTargets[W]=H,c(W,H)))})}function f(e,t,n){var o=ue.slotTargets[e]||{},r=o[t]||[];if(Array.isArray(r)||(r=r?[r]:[]),Array.isArray(n))for(var i=0;i<n.length;i++)r.push(n[i]);else r.push(n);ue.slotTargets[e]=ue.slotTargets[e]||{},ue.slotTargets[e][t]=r.filter(function(e,t){return r.indexOf(e)===t}),Ae.executeWhenAvailable("adding slot-level targeting",function(){var n=re[e];n&&Ae.setSlotTargeting(n,t,r)})}function g(e,t,n){Ae.executeWhenAvailable("removing slot-level targeting",function(){var o=re[e];if(o){var r={},i=o.getTargetingKeys();for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];"function"!=typeof l&&(r[l]=o.getTargeting(l)||"")}var s={pos:r.pos};for(var u in t?n?(r[t].splice(r[t].indexOf(n),1),ue.slotTargets[e][t].splice(ue.slotTargets[e][t].indexOf(n),1)):(delete ue.slotTargets[e][t],delete r[t]):(r={pos:r.pos},ue.slotTargets[e].length=0,ue.slotTargets[e]=s),Ae.clearSlotTargeting(o),r)r.hasOwnProperty(u)&&(0===r[u].length&&(r[u][0]=""),Ae.setSlotTargeting(o,u,r[u]))}})}function p(){$.mark("Page-Level GPT Build Start");var e=window.AdFuelUtils.readCookie("gptgeo");if(e){var t=e.split("%2C"),n=parseFloat(t[0]),o=parseFloat(t[1]);Ae.executeWhenAvailable("setting location",function(){Ae.setLocation(n,o)})}else ve.log("Unable to retrieve location cookie",e);void 0!==Q&&(ve.log("Setting Child Directed Treat Tag : ",Q),Ae.executeWhenAvailable("setting child_directed_treatment tag",function(){Ae.setChildDirectedTreatmentTag(Q)})),void 0!==V&&(ve.log("Setting SafeFrame Config Tag : ",V),Ae.executeWhenAvailable("setting safeframe_config",function(){Ae.setSafeFrameConfig(V)}));var r=window.AdFuelUtils.clone(ce),i=ue.pageTargets;for(var a in i)i.hasOwnProperty(a)&&r.push([a,i[a]]);for(var l=0;l<r.length;l++){var s=r[l][1];if(s&&!Array.isArray(s)&&(s=s.indexOf(",")>=0?s.split(","):[s]),"exclusions"===r[l][0])for(var u=0;u<s.length;u++){var d=r[l][1][u];Ae.executeWhenAvailable("setting category exclusion",function(){Ae.setCategoryExclusion(d)})}else{var f=r[l][0];c(f,s)}}ve.log("Setting Page-Level Targeting",r),$.mark("Page-Level GPT Build End"),$.measure("Page-Level GPT Build","Page-Level GPT Build Start","Page-Level GPT Build End")}function h(e){var t,n=window.AdFuelUtils.clone(e.targeting),o=ue.slotTargets[e.rktr_slot_id]||{};if(o[e.rktr_slot_id])for(t in o[e.rktr_slot_id])o[e.rktr_slot_id].hasOwnProperty(t)&&n.push([t,o[e.rktr_slot_id][t]]);if(window[X.siteObject]&&void 0!==window[X.siteObject].slotTargets&&void 0!==window[X.siteObject].slotTargets[e.rktr_slot_id])for(t in window[X.siteObject].slotTargets[e.rktr_slot_id])n.push([t,window[X.siteObject].slotTargets[e.rktr_slot_id][t]]);ve.log("Setting Slot-Level Targeting",e.rktr_slot_id,n);for(var r=0;r<n.length;r++){var i=n[r][1];i&&!Array.isArray(i)&&(i=i.indexOf(",")>=0?i.split(","):[i]),ve.log("Setting Slot Level Target: ",e.rktr_slot_id,t,i),t=n[r][0],f(e.rktr_slot_id,t,i)}}function m(e){var t=document.querySelectorAll("div#"+e.rktr_slot_id);if(0!==t.length)for(var n=0;n<t.length;n++){var o=t[n];if(!(o.className.indexOf("adfuel-rendered")>=0)){if(1===t.length&&re[e.rktr_slot_id]){var r=E(e,!0);return y(r.rktr_slot_id),r}return E(e)}ve.log("Found rendered slot...",e.rktr_slot_id)}return ve.log("Not building slot... Can't Find Unrendered Slot On Page",e.rktr_slot_id),null}function w(e){var t=X.networkId,n="Building Slot ["+e.rktr_slot_id+"]",o=n+" Start",i=n+" End";ve.group("Building Slot: "+e.rktr_slot_id),$.mark(o),$.queueEntry(o),e.inherit&&J&&(e.rktr_ad_id=J);var a,l="/"+t+"/"+e.rktr_ad_id,s=e.rktr_slot_id,u=e.rktr_slot_id.indexOf("_oop")>=1,c=u?"Defining OOP Slot":"Defining Standard Slot";void 0!==e.safeframe_config&&(a=e.safeframe_config),Ae.executeWhenAvailable(c,function(){re[s]=u?Ae.defineOutOfPageSlot(l,s):Ae.defineSlot(l,e.sizes,s),a&&Ae.setSlotSafeFrameConfig(re[s],a)}),Ae.executeWhenAvailable("Defining slot targeting",function(){var t=r(e);for(var n in ve.log("Defining Slot Targeting: ",e.rktr_slot_id,t),t){var o;if(t.hasOwnProperty(n))if(o=t[n]&&t[n][1]?JSON.stringify(t[n][1]):"",o){o=JSON.parse(o);var i=re[s];if("exclusions"===t[n][0])if(Array.isArray(t[n][1]))for(var a in t[n][1])t[n][1].hasOwnProperty(a)&&(o=t[n][1][a],Ae.setSlotCategoryExclusion(i,o));else Ae.setSlotCategoryExclusion(i,o);else{var l=t[n][0];Ae.setSlotTargeting(i,l,o)}}}}),ve.log("Checking Responsive Mapping For Slot",e.responsive,e.responsive.length),e.responsive=e.responsive||[],e.responsive.length>0&&S(e.rktr_slot_id,e.responsive),h(e),$.mark(i),$.measure(n,o,i),$.queueEntry(i),ve.groupEnd("Building Slot: "+e.rktr_slot_id)}function v(e,t){function n(e){var t=ie.indexOf(e);t>=0&&ie.splice(t,1)}for(var o=0;o<e.length;o++){var r=e[o],i=t&&t.ignoreCheck,a=!0;if(i||m(r)||(n(r),a=!1),a){var l=ae.map(function(e){return e.rktr_slot_id});l.indexOf(r.rktr_slot_id)<0?(w(r),ae.push(r),le.push(r),n(r)):ve.log("Filtering out previously built slot: ",r.rktr_slot_id)}}return ae}function y(e){var t=e||[];Array.isArray(t)||(t=[e]),ve.log("Clearing Slots",{slotDivIds:t}),Ae.executeWhenAvailable("clearing slots",function(){var e=[];t.length>0&&(e=t.filter(function(e){return!!re[e]}).map(function(e){return re[e]}),0===e.length)||Ae.clearSlots(e)})}function b(e){var t=e||[];Array.isArray(t)||(t=[e]),t.length>0&&t.forEach(function(e){var t,n=se.indexOf(e);ae.map(function(t,n){return t.rktr_slot_id===e&&(buildSlotTargetId=n),t.rktr_slot_id});n>=0&&(se.splice(n,1),ae.splice(t,1))}),ve.log("Destroying Slots",{slotDivIds:e}),Ae.executeWhenAvailable("destroying slots",function(){var e=[];t.length>0&&(e=t.filter(function(e){return!!re[e]}).map(function(e){return re[e]}),0===e.length)||(a(t),void 0!==window.jpUnloadUnits&&window.jpUnloadUnits(),Ae.destroySlots(e),l(t),s(t))})}function S(e,t){for(var n=0;n<t.length;n++){for(var o=JSON.parse(JSON.stringify(t[n])),r=0;r<o.length;r++)if(Array.isArray(o[r]))for(var i=0;i<o[r].length;i++)if(Array.isArray(o[r][i]))for(var a=0;a<o[r][i].length;a++)"fluid"!==o[r][i][a]&&(o[r][i][a]=parseInt(o[r][i][a],10));else parseInt(o[r][i],10)>=0?o[r][i]=parseInt(o[r][i],10):"fluid"!==o[r][i]&&(o[r]=[]);else o[r]=[];t[n]=o}Ae.executeWhenAvailable("setting slot mappings",function(){Ae.defineSlotSizeMapping(re[e],t)})}function E(e,t){var n=e.rktr_slot_id,o=n,r=n.split("_"),i=r[r.length-1],a=document.querySelectorAll("div#"+n);if(a.length>1||1===a.length&&t){for(ve.log("updating slot div id.",{slot:e});re[o];)3===r.length?i=window.AdFuelUtils.generateCacheBuster():(i=parseInt(i,10)+1,i=i<10?"0"+String(i):String(i)),r[r.length-1]=i,o=r.join("_");A(e,o,n),_(n,o)}return e}function A(e,t,n){e.rktr_slot_id=t;try{var o=new CustomEvent("SlotIdChange",{detail:{asset:e,originalId:n,newId:t}});document.dispatchEvent(o)}catch(e){ve.error("error dispatching custom Event: SlotIdChange",{error:e})}}function _(e,t){var n=document.querySelectorAll("div#"+e);if(n.length>0)for(var o=0;o<n.length;o++){var r=n[o];(r.className.indexOf("adfuel-rendered")<0&&n.length>1||1===n.length)&&(r.id=t)}}function O(){return te&&!1===de}function C(){if(O())if(ge.length>0||pe.length>0){var e;for(ve.log("Processing delayed dispatch queues"),e=0;e<ge.length;e++)ge[e]();for(e=0;e<pe.length;e++)pe[e]();ge.length=0,pe.length=0,window.AdFuel.dispatchQueue()}else X.autoDispatch&&(ve.log("Processing all queues"),window.AdFuel.dispatchQueue());else fe=!0}function T(e){if(!O())return $.mark("Delaying Queue Dispatch"),ve.log("Delaying Queue Dispatch"),fe=!0,void ge.push(function(){T(e)});$.mark("Dispatch Queue Start"),ve.log("Dispatching Queue...");var t=e||{sync:!1,maintainCorrelator:!0};if(t.slots&&t.slots.length>0)for(var n=0;n<t.slots.length;n++)me.indexOf(t.slots[n])>=0&&(ve.log("Removing slot from Excludes: ",t.slots[n]),me.splice(me.indexOf(t.slots[n]),1));if(ie.length>0){if(t.slots&&t.slots.length>0&&me.length>0)for(var o=0;o<t.slots.length;o++){var r=me.indexOf(t.slots[o]);r>=0&&(ve.log("Removing slot from Excludes: ",t.slots[n]),me.splice(r,1))}if(ae.length>0){var i=window.AdFuelUtils.clone(ae);i=i.filter(function(e){ve.log("Checking if slot ["+e.rktr_slot_id+"] is dispatched: ",se.indexOf(e.rktr_slot_id)>=0||!0===e.dispatched);var t=se.indexOf(e.rktr_slot_id)>=0||!0===e.dispatched;return!t});for(var a=[],l=0;l<i.length;l++){var s=i[l];s.dispatched=!0,se.indexOf(s.rktr_slot_id)<0&&se.push(s.rktr_slot_id),ae[l]=s,a.push(s.rktr_slot_id)}ve.log("Built and Undispatched Slots: ",a),a.length>0?Se("preDispatchCallback",i,i,e).then(function(){try{var t=new CustomEvent("PreDispatchComplete",{detail:{slots:ie.length}});document.dispatchEvent(t)}catch(e){ve.error("error dispatching custom Event: PreDispatchComplete",{error:e})}p(),ve.log("preDispatchCallback events completed.  Sending request.",i),F(i,e).then(function(e){$.mark("Dispatch Queue End"),$.measure("Dispatch Queue","Dispatch Queue Start","Dispatch Queue End");for(var t=0;t<le.length;t++){var n=le[t];a.indexOf(n.rktr_slot_id)>=0&&(le.splice(t,1),t--)}})}):ve.log("No undispatched slots.")}}}function k(e,t){D().then(function(n){if(n)ve.warn("Registry Blocked Due To GDPR Restrictions.");else{if(ve.log("Queueing Registry: ",e,t,X),!e)return void ve.error("Empty Registry url");var o=t||{dispatch:X.autoDispatch};if(o.exclude&&o.exclude.length>0)for(var r=0;r<o.exclude.length;r++){var i=o.exclude[r];me.indexOf(i)<0&&(ve.log("Excluding Slot: ",i),me.push(i))}function a(e){var t=document,n=t.createElement("script"),o=t.getElementsByTagName("script")[0],r=/^(complete|loaded)$/,i=!1;n.type="text/javascript",n.src=e,n.onload=n.onreadystatechange=function(){i||"readyState"in n&&r.test(n.readyState)||(n.onload=n.onreadystatechange=null,i=!0,l())},o.parentNode.insertBefore(n,o)}function l(){$.mark("Registry Load ["+e+"] End"),$.measure("Registry Load ["+e+"]","Registry Load ["+e+"] Start","Registry Load ["+e+"] End"),o.dispatch&&window.AdFuel.dispatchQueue(o)}function s(e,t){var n=[];if(n.push(e[0]),t&&t.length>0)for(var o=1;o<e.length;o++)t.indexOf(e[o].rktr_slot_id)>=0&&n.push(e[o]);else n=e;return n}var u=_e(e);function c(t){if(!0===t.error)ve.log("Using Script Tag Method..."),a(e);else{var n=s(t.response,o.slots);ve.log("Response: ",t.response),we[u]=t.response,window.AdFuel.registry.push(n,o)}}if(we[u]){ve.log("Queueing Cached Registry: ",we[u],o);var d=s(we[u],o.slots);window.AdFuel.registry.push(d,o)}else ve.log("Requesting Registry: ",u,o),Ee(e,c)}})}function x(e,t,n){function o(){if(a++===r){var t=n();t&&x(e,r,n)}else{var s=Date.now()-l-a*i;window.setTimeout(o,i-s)}}var r=t||10,i=e/r,a=0,l=Date.now();window.setTimeout(o,i)}function I(e,t){function n(e){ve.log("starting refresh interval: "+e,t);var o=1e3*e;x(o,5,function(){if(!t.interval||0===parseInt(t.interval,10))return ve.log("stopping refresh interval: "+e,t),!1;var o=parseInt(t.interval,10);return e!==o?(ve.log("changing refresh interval: "+e,t),n(o),!1):(s(a,l),!0)})}$.mark("Refresh Called");var o,r=t||{},i=e||[];!e||Array.isArray(e)||t||(r=e,i=[]);var a=[],l=ie.filter(function(t){return 0===i.length?(o=window.AdFuelUtils.isMonetized(t),"page"!==t.rktr_slot_id&&o.isMonetized&&(t.monetization=o,a.push(t)),!0):e.length>0&&e.indexOf(t.rktr_slot_id)>=0?(o=window.AdFuelUtils.isMonetized(t),"page"!==t.rktr_slot_id&&o.isMonetized&&(t.monetization=o,a.push(t)),!0):void 0});ve.log("Monetized Assets: ",a),ve.log(""),r.interval=r.interval||0,r.pageload=void 0===r.pageload||r.pageload,r.maintainCorrelator=void 0===r.maintainCorrelator||r.maintainCorrelator;var s=function(e,t){if(oe||!X.refreshOnFocusOnly){var n=[],o=[],a=[];if(0===i.length)for(var l in re)re.hasOwnProperty(l)&&a.push(l);else a=i;for(var s=0;s<a.length;s++){var u=a[s];if(document.getElementById(u)){var c=re[u];c&&(n.push(c),o.push(u))}else ve.log("Cannot find element on page to refresh: "+u)}if(i.length>0&&0===o.length)return;ve.log("Callback Parameters: ",{name:"preRefreshCallback",monetization:e,slots:t,options:r}),Se("preRefreshCallback",e,t,r).then(function(){try{var e=new CustomEvent("PreRefreshComplete",{detail:{slots:o}});document.dispatchEvent(e)}catch(e){ve.error("error dispatching custom Event: PreRefreshComplete",{error:e})}y(o),r.pageload?Ae.setTargeting("pageload","ref"):Ae.clearTargeting("pageload"),Ae.refreshSlots(n,r)})}};if(r.interval&&parseInt(r.interval,10)>0){var u=parseInt(t.interval,10);n(u)}else s(a,l)}function F(e,t){return new Promise(function(n){e.length>0?($.mark("Sending Request Start"),Ae.configurePubAds().then(function(){ve.log("pubads configured...");var o=t||{sync:!1,syncSlots:[],maintainCorrelator:!0},r=[],i=function(e){Ae.executeWhenAvailable("displaying slot",function(){ve.log("Displaying Slot: "+e),Ae.displaySlotById(e)})};ve.log("Previously Dispatched Slots: ",se),ve.log("Dispatching Slots: ",e);for(var a=0;a<e.length;a++){var l=e[a].rktr_slot_id;document.getElementById(l)?me.indexOf(l)<0&&!e[a].displayed&&se.indexOf(e[a])<0?(i(l),e[a].displayed=!0,r.push(e[a]),se.indexOf(e[a].rktr_slot_id)<0&&se.push(e[a].rktr_slot_id)):ve.log("Slot is excluded or already displayed. Not displaying: ",l):ve.log("Can't Find Slot On Page",l)}if(!window.AdFuelUtils.getURLParam("enableInitialLoad")){var s=r.map(function(e){return e.rktr_slot_id});Ae.executeWhenAvailable("refreshing slots",function(){var e=[];for(var t in re)re.hasOwnProperty(t)&&(ve.log("Checking Slot for Sync: "+t),(o.sync&&(!o.syncSlots||0===o.syncSlots.length||o.syncSlots.indexOf(t)>=0)||s.indexOf(t)>=0)&&(ve.log("Syncing Slot With Request: "+t),e.push(re[t])));ve.log("Slots To Refresh: ",e.map(function(e){return e?e.getSlotElementId():"NO ID"})),Ae.refreshSlots(e),$.mark("Sending Request End"),$.measure("Sending Request","Sending Request Start","Sending Request End")}),o.maintainCorrelator=o.maintainCorrelator||!0,ve.log({maintainCorrelator:o.maintainCorrelator})}try{var u=new CustomEvent("AdFuelRequestComplete",{detail:{slots:JSON.parse(JSON.stringify(r)),options:t}}),c="AdFuel Request Complete";$.mark(c),$.queueEntry(c),document.dispatchEvent(u)}catch(e){ve.error("error dispatching custom Event: AdFuelRequestComplete",{error:e})}n(r)})):ve.log("No slots to request.",e)})}function P(e){if(e)for(var t in e)if(e.hasOwnProperty(t))if("slotTargets"===t){for(var n in e[t])if(e[t].hasOwnProperty(n)){var o=e[t][n];for(var r in o)o.hasOwnProperty(r)&&AdFuel.addSlotLevelTarget(n,r,e[t][n][r])}}else if("adTargets"===t)for(var i in e[t])e[t].hasOwnProperty(i)&&AdFuel.addPageLevelTarget(i,e[t][i]);else AdFuel.addPageLevelTarget(t,e[t])}function R(e){var t=e;if(t&&t.indexOf("/")>=0){var n=t.split("/")[0];if(parseInt(n,10)>0){var o=t.split("/");o.splice(0,1),t=o.join("/")}}return t}function U(){window.AdFuelUtils.addEvent(document,"AdFuelRequestComplete",function(e){ve.log("AdFuel Request Complete",{requestEvent:e,timestamp:(new Date).toLocaleTimeString()})}),window.AdFuelUtils.addEvent(document,"GPTRenderComplete",function(e){ve.log("GPT Render Complete",{renderEvent:e,timestamp:(new Date).toLocaleTimeString(),slot:e.detail.asset?e.detail.asset.getSlotElementId():"NO ID"})}),window.AdFuelUtils.addEvent(document,"SlotIdChange",function(e){ve.log("Slot ID Change",{idChangeEvent:e,timestamp:(new Date).toLocaleTimeString()})}),window.AdFuelUtils.addEvent(document,"SlotVisibilityChanged",function(e){ve.log("Slot Visibility Changed",{visibilityChangedEvent:e,timestamp:(new Date).toLocaleTimeString()})}),window.AdFuelUtils.addEvent(document,"SlotViewable",function(e){ve.log("Slot Viewable",{viewableEvent:e,timestamp:(new Date).toLocaleTimeString(),slot:e.detail.slot?e.detail.slot.getSlotElementId():"NO ID"})}),window.AdFuelUtils.addEvent(document,"GPTSlotLoaded",function(e){ve.log("Slot Loaded",{slotOnLoadEvent:e,timestamp:(new Date).toLocaleTimeString(),slot:e.detail.slot?e.detail.slot.getSlotElementId():"NO ID"})}),window.AdFuelUtils.addEvent(document,"PreQueueComplete",function(e){ve.log("PreQueueComplete",{preQueueCompleteEvent:e,timestamp:(new Date).toLocaleTimeString()})}),window.AdFuelUtils.addEvent(document,"PostQueueComplete",function(e){ve.log("PostQueueComplete",{postQueueCompleteEvent:e,timestamp:(new Date).toLocaleTimeString()})}),window.AdFuelUtils.addEvent(document,"PreDispatchComplete",function(e){ve.log("PreDispatchComplete",{preDispatchCompleteEvent:e,timestamp:(new Date).toLocaleTimeString()})}),window.AdFuelUtils.addEvent(document,"PostDispatchComplete",function(e){ve.log("PostDispatchComplete",{postDispatchCompleteEvent:e,timestamp:(new Date).toLocaleTimeString()})}),window.AdFuelUtils.addEvent(document,"PreRefreshComplete",function(e){ve.log("PreRefreshComplete",{preRefreshCompleteEvent:e,timestamp:(new Date).toLocaleTimeString()})}),window.AdFuelUtils.addEvent(document,"PostRefreshComplete",function(e){ve.log("PostRefreshComplete",{postRefreshCompleteEvent:e,timestamp:(new Date).toLocaleTimeString()})})}function D(){return new Promise(function(e){null!==ne?e(ne):window.AdFuelOptions.GDPR.APPLIES.then(function(t){if(t){var n=window.AdFuelUtils.getConsent();n?ne=!1:(ne=!0,ve.warn("GDPR Consent Not Granted or Not Found"))}else ne=!1;e(ne)})})}function L(e){var t=document.location.protocol+"//"+document.location.hostname+":"+document.location.port;if(e.origin===t)try{var n=JSON.parse(e.data);if("getDivHeight"===n.action){ve.log("Event Payload: ",n);var o=document.getElementById(n.id),r=window.getComputedStyle(o,null).getPropertyValue("height"),i={id:n.id,client:o.clientHeight,offset:o.offsetHeight,scroll:o.scrollHeight,height:r};ve.log("Event Response: ",i),e.source.postMessage(JSON.stringify({source:"adfuel",action:"returnDivHeight",value:i}))}}catch(e){return}}function N(){te||D().then(function(n){if(!n){te=!0,$.mark("AdFuel Initialized"),function(){"use strict";var e=document,t=e.createElement("script"),n=e.getElementsByTagName("script")[0],o="https:"===document.location.protocol;t.type="text/javascript",t.src=(o?"https:":"http:")+"//www.googletagservices.com/tag/js/gpt.js",n.parentNode.insertBefore(t,n),$.mark("GPT Included")}(),function(){function e(){}function t(e){return e}function n(e){return!!e}function o(e){return!e}function r(e){return function(){if(null===e)throw new Error("Callback was already called.");e.apply(this,arguments),e=null}}function i(e){return function(){null!==e&&(e.apply(this,arguments),e=null)}}function a(e){return L(e)||"number"==typeof e.length&&e.length>=0&&e.length%1==0}function l(e,t){for(var n=-1,o=e.length;++n<o;)t(e[n],n,e)}function s(e,t){for(var n=-1,o=e.length,r=Array(o);++n<o;)r[n]=t(e[n],n,e);return r}function u(e){return s(Array(e),function(e,t){return t})}function c(e,t,n){return l(e,function(e,o,r){n=t(n,e,o,r)}),n}function d(e,t){l(B(e),function(n){t(e[n],n)})}function f(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1}function g(e){var t,n,o=-1;return a(e)?(t=e.length,function(){return o++,o<t?o:null}):(n=B(e),t=n.length,function(){return o++,o<t?n[o]:null})}function p(e,t){return t=null==t?e.length-1:+t,function(){for(var n=Math.max(arguments.length-t,0),o=Array(n),r=0;r<n;r++)o[r]=arguments[r+t];switch(t){case 0:return e.call(this,o);case 1:return e.call(this,arguments[0],o)}}}function h(e){return function(t,n,o){return e(t,o)}}function m(t){return function(n,o,a){a=i(a||e),n=n||[];var l=g(n);if(t<=0)return a(null);var s=!1,u=0,c=!1;(function e(){if(s&&u<=0)return a(null);for(;u<t&&!c;){var i=l();if(null===i)return s=!0,void(u<=0&&a(null));u+=1,o(n[i],i,r(function(t){u-=1,t?(a(t),c=!0):e()}))}})()}}function w(e){return function(t,n,o){return e(R.eachOf,t,n,o)}}function v(e){return function(t,n,o,r){return e(m(n),t,o,r)}}function y(e){return function(t,n,o){return e(R.eachOfSeries,t,n,o)}}function b(t,n,o,r){r=i(r||e),n=n||[];var l=a(n)?[]:{};t(n,function(e,t,n){o(e,function(e,o){l[t]=o,n(e)})},function(e){r(e,l)})}function S(e,t,n,o){var r=[];e(t,function(e,t,o){n(e,function(n){n&&r.push({index:t,value:e}),o()})},function(){o(s(r.sort(function(e,t){return e.index-t.index}),function(e){return e.value}))})}function E(e,t,n,o){S(e,t,function(e,t){n(e,function(e){t(!e)})},o)}function A(e,t,n){return function(o,r,i,a){function l(){a&&a(n(!1,void 0))}function s(e,o,r){if(!a)return r();i(e,function(o){a&&t(o)&&(a(n(!0,e)),a=i=!1),r()})}arguments.length>3?e(o,r,s,l):(a=i,i=r,e(o,s,l))}}function _(e,t){return t}function O(t,n,o){o=o||e;var r=a(n)?[]:{};t(n,function(e,t,n){e(p(function(e,o){o.length<=1&&(o=o[0]),r[t]=o,n(e)}))},function(e){o(e,r)})}function C(e,t,n,o){var r=[];e(t,function(e,t,o){n(e,function(e,t){r=r.concat(t||[]),o(e)})},function(e){o(e,r)})}function T(t,n,o){function i(t,n,o,r){if(null!=r&&"function"!=typeof r)throw new Error("task callback must be a function");if(t.started=!0,L(n)||(n=[n]),0===n.length&&t.idle())return R.setImmediate(function(){t.drain()});l(n,function(n){var i={data:n,callback:r||e};o?t.tasks.unshift(i):t.tasks.push(i),t.tasks.length===t.concurrency&&t.saturated()}),R.setImmediate(t.process)}function a(e,t){return function(){u-=1;var n=!1,o=arguments;l(t,function(e){l(c,function(t,o){t!==e||n||(c.splice(o,1),n=!0)}),e.callback.apply(e,o)}),e.tasks.length+u===0&&e.drain(),e.process()}}if(null==n)n=1;else if(0===n)throw new Error("Concurrency must not be zero");var u=0,c=[],d={tasks:[],concurrency:n,payload:o,saturated:e,empty:e,drain:e,started:!1,paused:!1,push:function(e,t){i(d,e,!1,t)},kill:function(){d.drain=e,d.tasks=[]},unshift:function(e,t){i(d,e,!0,t)},process:function(){for(;!d.paused&&u<d.concurrency&&d.tasks.length;){var e=d.payload?d.tasks.splice(0,d.payload):d.tasks.splice(0,d.tasks.length),n=s(e,function(e){return e.data});0===d.tasks.length&&d.empty(),u+=1,c.push(e[0]);var o=r(a(d,e));t(n,o)}},length:function(){return d.tasks.length},running:function(){return u},workersList:function(){return c},idle:function(){return d.tasks.length+u===0},pause:function(){d.paused=!0},resume:function(){if(!1!==d.paused){d.paused=!1;for(var e=Math.min(d.concurrency,d.tasks.length),t=1;t<=e;t++)R.setImmediate(d.process)}}};return d}function k(e){return p(function(t,n){t.apply(null,n.concat([p(function(t,n){"object"==typeof console&&(t?console.error&&console.error(t):console[e]&&l(n,function(t){console[e](t)}))})]))})}function x(e){return function(t,n,o){e(u(t),n,o)}}function I(e){return p(function(t,n){var o=p(function(n){var o=this,r=n.pop();return e(t,function(e,t,r){e.apply(o,n.concat([r]))},r)});return n.length?o.apply(this,n):o})}function F(e){return p(function(t){var n=t.pop();t.push(function(){var e=arguments;o?R.setImmediate(function(){n.apply(null,e)}):n.apply(null,e)});var o=!0;e.apply(this,t),o=!1})}var P,R={},U="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||this;null!=U&&(P=U.async),R.noConflict=function(){return U.async=P,R};var D=Object.prototype.toString,L=Array.isArray||function(e){return"[object Array]"===D.call(e)},N=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},B=Object.keys||function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t},j="function"==typeof setImmediate&&setImmediate,M=j?function(e){j(e)}:function(e){setTimeout(e,0)};"object"==typeof process&&"function"==typeof process.nextTick?R.nextTick=process.nextTick:R.nextTick=M,R.setImmediate=j?M:R.nextTick,R.forEach=R.each=function(e,t,n){return R.eachOf(e,h(t),n)},R.forEachSeries=R.eachSeries=function(e,t,n){return R.eachOfSeries(e,h(t),n)},R.forEachLimit=R.eachLimit=function(e,t,n,o){return m(t)(e,h(n),o)},R.forEachOf=R.eachOf=function(t,n,o){function a(e){u--,e?o(e):null===l&&u<=0&&o(null)}o=i(o||e),t=t||[];for(var l,s=g(t),u=0;null!=(l=s());)u+=1,n(t[l],l,r(a));0===u&&o(null)},R.forEachOfSeries=R.eachOfSeries=function(t,n,o){function a(){var e=!0;if(null===s)return o(null);n(t[s],s,r(function(t){if(t)o(t);else{if(s=l(),null===s)return o(null);e?R.setImmediate(a):a()}})),e=!1}o=i(o||e),t=t||[];var l=g(t),s=l();a()},R.forEachOfLimit=R.eachOfLimit=function(e,t,n,o){m(t)(e,n,o)},R.map=w(b),R.mapSeries=y(b),R.mapLimit=v(b),R.inject=R.foldl=R.reduce=function(e,t,n,o){R.eachOfSeries(e,function(e,o,r){n(t,e,function(e,n){t=n,r(e)})},function(e){o(e,t)})},R.foldr=R.reduceRight=function(e,n,o,r){var i=s(e,t).reverse();R.reduce(i,n,o,r)},R.transform=function(e,t,n,o){3===arguments.length&&(o=n,n=t,t=L(e)?[]:{}),R.eachOf(e,function(e,o,r){n(t,e,o,r)},function(e){o(e,t)})},R.select=R.filter=w(S),R.selectLimit=R.filterLimit=v(S),R.selectSeries=R.filterSeries=y(S),R.reject=w(E),R.rejectLimit=v(E),R.rejectSeries=y(E),R.any=R.some=A(R.eachOf,n,t),R.someLimit=A(R.eachOfLimit,n,t),
R.all=R.every=A(R.eachOf,o,o),R.everyLimit=A(R.eachOfLimit,o,o),R.detect=A(R.eachOf,t,_),R.detectSeries=A(R.eachOfSeries,t,_),R.detectLimit=A(R.eachOfLimit,t,_),R.sortBy=function(e,t,n){function o(e,t){var n=e.criteria,o=t.criteria;return n<o?-1:n>o?1:0}R.map(e,function(e,n){t(e,function(t,o){t?n(t):n(null,{value:e,criteria:o})})},function(e,t){if(e)return n(e);n(null,s(t.sort(o),function(e){return e.value}))})},R.auto=function(t,n,o){function r(e){v.unshift(e)}function a(e){var t=f(v,e);t>=0&&v.splice(t,1)}function s(){g--,l(v.slice(0),function(e){e()})}"function"==typeof arguments[1]&&(o=n,n=null),o=i(o||e);var u=B(t),g=u.length;if(!g)return o(null);n||(n=g);var h={},m=0,w=!1,v=[];r(function(){g||o(null,h)}),l(u,function(e){function i(){return m<n&&c(y,function(e,t){return e&&h.hasOwnProperty(t)},!0)&&!h.hasOwnProperty(e)}function l(){i()&&(m++,a(l),g[g.length-1](v,h))}if(!w){for(var u,g=L(t[e])?t[e]:[t[e]],v=p(function(t,n){if(m--,n.length<=1&&(n=n[0]),t){var r={};d(h,function(e,t){r[t]=e}),r[e]=n,w=!0,o(t,r)}else h[e]=n,R.setImmediate(s)}),y=g.slice(0,g.length-1),b=y.length;b--;){if(!(u=t[y[b]]))throw new Error("Has nonexistent dependency in "+y.join(", "));if(L(u)&&f(u,e)>=0)throw new Error("Has cyclic dependencies")}i()?(m++,g[g.length-1](v,h)):r(l)}})},R.retry=function(e,t,n){function o(e,t){if("number"==typeof t)e.times=parseInt(t,10)||i;else{if("object"!=typeof t)throw new Error("Unsupported argument type for 'times': "+typeof t);e.times=parseInt(t.times,10)||i,e.interval=parseInt(t.interval,10)||a}}function r(e,t){function n(e,n){return function(o){e(function(e,t){o(!e||n,{err:e,result:t})},t)}}function o(e){return function(t){setTimeout(function(){t(null)},e)}}for(;s.times;){var r=!(s.times-=1);l.push(n(s.task,r)),!r&&s.interval>0&&l.push(o(s.interval))}R.series(l,function(t,n){n=n[n.length-1],(e||s.callback)(n.err,n.result)})}var i=5,a=0,l=[],s={times:i,interval:a},u=arguments.length;if(u<1||u>3)throw new Error("Invalid arguments - must be either (task), (task, callback), (times, task) or (times, task, callback)");return u<=2&&"function"==typeof e&&(n=t,t=e),"function"!=typeof e&&o(s,e),s.callback=n,s.task=t,s.callback?r():r},R.waterfall=function(t,n){function o(e){return p(function(t,r){if(t)n.apply(null,[t].concat(r));else{var i=e.next();i?r.push(o(i)):r.push(n),F(e).apply(null,r)}})}if(n=i(n||e),!L(t)){var r=new Error("First argument to waterfall must be an array of functions");return n(r)}if(!t.length)return n();o(R.iterator(t))()},R.parallel=function(e,t){O(R.eachOf,e,t)},R.parallelLimit=function(e,t,n){O(m(t),e,n)},R.series=function(e,t){O(R.eachOfSeries,e,t)},R.iterator=function(e){function t(n){function o(){return e.length&&e[n].apply(null,arguments),o.next()}return o.next=function(){return n<e.length-1?t(n+1):null},o}return t(0)},R.apply=p(function(e,t){return p(function(n){return e.apply(null,t.concat(n))})}),R.concat=w(C),R.concatSeries=y(C),R.whilst=function(t,n,o){if(o=o||e,t()){var r=p(function(e,i){e?o(e):t.apply(this,i)?n(r):o.apply(null,[null].concat(i))});n(r)}else o(null)},R.doWhilst=function(e,t,n){var o=0;return R.whilst(function(){return++o<=1||t.apply(this,arguments)},e,n)},R.until=function(e,t,n){return R.whilst(function(){return!e.apply(this,arguments)},t,n)},R.doUntil=function(e,t,n){return R.doWhilst(e,function(){return!t.apply(this,arguments)},n)},R.during=function(t,n,o){o=o||e;var r=p(function(e,n){e?o(e):(n.push(i),t.apply(this,n))}),i=function(e,t){e?o(e):t?n(r):o(null)};t(i)},R.doDuring=function(e,t,n){var o=0;R.during(function(e){o++<1?e(null,!0):t.apply(this,arguments)},e,n)},R.queue=function(e,t){var n=T(function(t,n){e(t[0],n)},t,1);return n},R.priorityQueue=function(t,n){function o(e,t){return e.priority-t.priority}function r(e,t,n){for(var o=-1,r=e.length-1;o<r;){var i=o+(r-o+1>>>1);n(t,e[i])>=0?o=i:r=i-1}return o}function i(t,n,i,a){if(null!=a&&"function"!=typeof a)throw new Error("task callback must be a function");if(t.started=!0,L(n)||(n=[n]),0===n.length)return R.setImmediate(function(){t.drain()});l(n,function(n){var l={data:n,priority:i,callback:"function"==typeof a?a:e};t.tasks.splice(r(t.tasks,l,o)+1,0,l),t.tasks.length===t.concurrency&&t.saturated(),R.setImmediate(t.process)})}var a=R.queue(t,n);return a.push=function(e,t,n){i(a,e,t,n)},delete a.unshift,a},R.cargo=function(e,t){return T(e,1,t)},R.log=k("log"),R.dir=k("dir"),R.memoize=function(e,n){var o={},r={},i=Object.prototype.hasOwnProperty;n=n||t;var a=p(function(t){var a=t.pop(),l=n.apply(null,t);i.call(o,l)?R.setImmediate(function(){a.apply(null,o[l])}):i.call(r,l)?r[l].push(a):(r[l]=[a],e.apply(null,t.concat([p(function(e){o[l]=e;var t=r[l];delete r[l];for(var n=0,i=t.length;n<i;n++)t[n].apply(null,e)})])))});return a.memo=o,a.unmemoized=e,a},R.unmemoize=function(e){return function(){return(e.unmemoized||e).apply(null,arguments)}},R.times=x(R.map),R.timesSeries=x(R.mapSeries),R.timesLimit=function(e,t,n,o){return R.mapLimit(u(e),t,n,o)},R.seq=function(){var t=arguments;return p(function(n){var o=this,r=n[n.length-1];"function"==typeof r?n.pop():r=e,R.reduce(t,n,function(e,t,n){t.apply(o,e.concat([p(function(e,t){n(e,t)})]))},function(e,t){r.apply(o,[e].concat(t))})})},R.compose=function(){return R.seq.apply(null,Array.prototype.reverse.call(arguments))},R.applyEach=I(R.eachOf),R.applyEachSeries=I(R.eachOfSeries),R.forever=function(t,n){function o(e){if(e)return i(e);a(o)}var i=r(n||e),a=F(t);o()},R.ensureAsync=F,R.constant=p(function(e){var t=[null].concat(e);return function(e){return e.apply(this,t)}}),R.wrapSync=R.asyncify=function(e){return p(function(t){var n,o=t.pop();try{n=e.apply(this,t)}catch(e){return o(e)}N(n)&&"function"==typeof n.then?n.then(function(e){o(null,e)}).catch(function(e){o(e.message?e:new Error(e))}):o(null,n)})},R.parallelWithTimeout=function(e,t,n,o){ve.log("tasks: ",n);var r=n.map(function(e){return function(t){e.callback(function(n,o){e.isCompleted=!0,ve.log("executing module trackedCallback.",e),t(n,o)})}});window.async.parallel(r,function(e,t){i&&(clearTimeout(i),ve.log("executing callback on all task completion."),o(e,t))});var i=setTimeout(function(){i=null;for(var e=[],r=0;r<n.length;r++)!1===n[r].isCompleted&&(ve.log({task:n[r]}),e.push(n[r].name+" "+n[r].event));e.length>0?(ve.log("executing callback on timeout.",e),o(e.length+" callback(s) timed out out after "+t+"ms.",null,{callbacks:e,tasks:n})):o(null)},t)},window.async=R}(),window.addEventListener("message",L,!1),window.AdFuelUtils.getURLParam("debug")&&U(),i(),ve.log("Checking for AdsQA..."),t(),ve.log("Binding dispatch to DOMContentLoaded and window.load..."),e(),Ae.executeWhenAvailable("set ad iframe title",u),C();try{var o=new CustomEvent("AdFuelCreated",{detail:{AdFuel:window.AdFuel}});document.dispatchEvent(o)}catch(e){ve.error("error dispatching custom Event: AdFuelCreated",{error:e})}}})}function B(){return window.AdFuelUtils.clone(le)}function j(e){for(var t,n,o=0;o<window.AdFuel.registry.length;o++)for(var r=window.AdFuel.registry[o],i=1;i<r.length;i++){var a=r[i];a.rktr_slot_id===e&&(t=window.AdFuelUtils.clone(a))}var l={},s=re[e];if(s){n=s.getAdUnitPath();var u=s.getTargetingKeys();for(var c in u)if(u.hasOwnProperty(c)){var d=u[c];l[d]=s.getTargeting(d)}}return{adUnit:n,slot:t,slotTargeting:l}}function M(e,t,n,o){D().then(function(r){if(r)ve.log("GDPR Consent Not Granted or Not Found. Not Registering Module.");else{ve.log("Registering Module: "+e+" "+n),$.mark("Registering Module: "+e+" "+n);for(var i=-1,a=0;a<he.length;a++)he[a].name===e&&(i=a);n=n||"Unspecified",o=o||{},t.init?t.init().then(function(){i>=0?he[i]={name:e,version:n,callbacks:t,options:o}:he.push({name:e,version:n,callbacks:t,options:o})}):i>=0?he[i]={name:e,version:n,callbacks:t,options:o}:he.push({name:e,version:n,callbacks:t,options:o})}})}function q(e){for(var t=-1,n=0;n<he.length;n++)he[n].name===e&&(t=n);t>=0&&he.splice(t,1)}function z(e){if(e){if(e.exclude&&e.exclude.length>0)for(var t=0;t<e.exclude.length;t++){var n=e.exclude[t];me.indexOf(n)<0&&(ve.log("Excluding Slot Id: ",n),me.push(n))}for(var o in e)e.hasOwnProperty(o)&&(X[o]=e[o])}}function G(){return Ae.updateCorrelator()}window.AdFuelUtils=window.AdFuelUtils||{isMobile:{any:!1}},window.AdFuelOptions=window.AdFuelOptions||{ADFUEL:{AUTO_DISPATCH:!0,DEFAULT_MOBILE_TIMEOUT:800,DEFAULT_DESKTOP_TIMEOUT:1200,DEFAULT_TIMEOUT:1200,SITE_OBJECT:"",IFRAME_TITLE:"advertisement",NETWORK_ID:"8663477",REFRESH_ON_FOCUS_ONLY:!1},GDPR:{APPLIES:new Promise(function(e){e(!1)})}};var W,H,Q,V,J,K="AdFuel",Y="v1.3.4.14",Z=window.AdFuelUtils?window.AdFuelUtils.cdnRoot:"i.cdn.turner.com",X={autoDispatch:window.AdFuelOptions.ADFUEL.AUTO_DISPATCH,defaultTimeout:window.AdFuelUtils.isMobile.any?window.AdFuelOptions.ADFUEL.DEFAULT_MOBILE_TIMEOUT||window.AdFuelOptions.ADFUEL.DEFAULT_TIMEOUT:window.AdFuelOptions.ADFUEL.DEFAULT_DESKTOP_TIMEOUT||window.AdFuelOptions.ADFUEL.DEFAULT_TIMEOUT,exclude:[],siteObject:window.AdFuelOptions.ADFUEL.SITE_OBJECT,iframeTitle:window.AdFuelOptions.ADFUEL.IFRAME_TITLE,networkId:window.AdFuelOptions.ADFUEL.NETWORK_ID,refreshOnFocusOnly:window.AdFuelOptions.ADFUEL.REFRESH_ON_FOCUS_ONLY},$=window.AdFuelUtils.performance,ee=window.CNN&&window.CNN.Features&&window.CNN.Features.enableSegmentAnalytics,te=!1,ne=null,oe=!0,re={},ie=[],ae=[],le=[],se=[],ue={pageTargets:{},slotTargets:{}},ce=[],de=!1,fe=!1,ge=[],pe=[],he=[],me=[],we={},ve=window.AdFuelUtils.getLogger(K,Y,"adfuel","color: #4f86f7; padding: 2px"),ye=function(){var e=[];return e.push=function(t,r){if(te&&!ne&&Array.isArray(t)){$.mark("Queue Registry ["+t[0].rktr_id+"] Start");var i,a=window.AdFuelUtils.clone(t),l=r?window.AdFuelUtils.clone(r):{dispatch:!0};if(l.dispatch=l.dispatch||X.autoDispatch,ve.log("Asset Clone: ",a),de=!0,a=a.filter(function(e,t){return 0===t||(l.slots&&l.slots.length>0&&-1!==l.slots.indexOf(e.rktr_slot_id)?(-1!==me.indexOf(e.rktr_slot_id)&&(ve.log("Removing Slot from Excludes: ",e.rktr_slot_id),me.splice(me.indexOf(e.rktr_slot_id),1)),!0):l.slots&&l.slots.length>0&&-1===l.slots.indexOf(e.rktr_slot_id)?(ve.log("Slot ["+e.rktr_slot_id+"] is being excluded based on slot options."),!1):l.exclude&&l.exclude.length>0&&-1!==l.exclude.indexOf(e.rktr_slot_id)?(ve.log("Slot ["+e.rktr_slot_id+"] is being excluded based on exclude options."),!1):!(me.length>0&&-1!==me.indexOf(e.rktr_slot_id))||(ve.log("Slot ["+e.rktr_slot_id+"] is being excluded based on previously excluded slots."),!1))}),l.slotMap)for(ve.log("Parsing Slot Map: ",l.slotMap,a),i=1;i<a.length;i++)ve.log("Checking Slot: ",a[i].rktr_slot_id),l.slotMap[a[i].rktr_slot_id]&&(ve.log("Overriding Element Id for: "+a[i].rktr_slot_id,l.slotMap[a[i].rktr_slot_id]),a[i].rktr_slot_id=l.slotMap[a[i].rktr_slot_id]);if(l&&l.adUnitMap)if(ve.log("Parsing Ad Unit Map: ",l.adUnitMap,a),"string"==typeof l.adUnitMap)for(ve.log("Overriding All Ad Units: ",l.adUnitMap),i=1;i<a.length;i++)a[i].rktr_ad_id=l.adUnitMap;else for(i=1;i<a.length;i++)ve.log("Checking Slot: ",a[i].rktr_slot_id),l.adUnitMap[a[i].rktr_slot_id]&&(ve.log("Overriding Ad Unit for: "+a[i].rktr_slot_id,l.adUnitMap[a[i].rktr_slot_id]),a[i].rktr_ad_id=l.adUnitMap[a[i].rktr_slot_id]);var s=[];a.forEach(function(e){var n=window.AdFuelUtils.isMonetized(e);"page"!==t.rktr_slot_id&&n.isMonetized&&(e.monetization=n,s.push(e))}),ve.log("Monetized Slots: ",s),Array.prototype.push.call(e,a);var u=a.filter(function(e){var t=!l.slots||0===l.slots.length||l.slots.indexOf(e.rktr_slot_id)>=0,n=!l.exclude||0===me.length||me.indexOf(e.rktr_slot_id)<0,o=l.slots&&l.slots.length>0||me.indexOf(e.rktr_slot_id)<0,r=t&&n&&o;return r});ve.log("slots To display: ",u);var c=function(){var e=a[0].rktr_id;if(ve.log("Queueing Procedure for: ",a),void 0!==a[0].child_directed_treatment&&(Q="true"===a[0].child_directed_treatment?1:0),void 0!==a[0].safeframe_config&&(V=a[0].safeframe_config),!a[0].singleton){n(a[0].targeting);try{J=R(a[1].rktr_ad_id)}catch(e){ve.log("Could not find inheritable Ad Unit.",a)}}var r=X.siteObject||(a[0].root?a[0].root.toUpperCase():a[0].site.toUpperCase());ve.log("Page Level Root: ",r),ve.log("Grabbing targeting from window object:",window[r]?window[r].adTargets:{},window[r]?window[r].slotTargets:{}),o(r);for(var i=!1,l=1;l<a.length;l++){var s=t[l];if(s.parentRegistry=e,!s.queued){var u=a[0].hasInViewRefresh?a[0].hasInViewRefresh:s.hasInViewRefresh;!0===u&&(i=!0),ve.log("Adding slot to slots registry: ",s,JSON.parse(JSON.stringify(ie))),ie.push(s)}}i&&void 0!==window._startInViewListeners&&window._startInViewListeners()};ve.log("Executing pre-queue callbacks..."),Se("preQueueCallback",s,a,l).then(function(){de=!1,ve.log("Pre-Queue Processes Complete!");try{var e=new CustomEvent("PreQueueComplete",{detail:{asset:t}});document.dispatchEvent(e)}catch(e){ve.error("error dispatching custom Event: PreQueueComplete",{error:e})}ve.log("Pre-Queue Complete!"),ve.log("Executing Queueing Procedures..."),c(),$.mark("Queue Registry ["+t[0].rktr_id+"] End"),$.measure("Queue Registry ["+t[0].rktr_id+"]","Queue Registry ["+t[0].rktr_id+"] Start","Queue Registry ["+t[0].rktr_id+"] End"),l.dispatch&&(ve.log("Dispatching Queue..."),window.AdFuel.dispatchQueue(l)),fe&&(fe=!1,C())}),ee&&$.adfuelEntries.length>0&&$.getTrackPerformance().then(function(){for(var e=0;e<$.adfuelEntries.length;e++)window.CNN.Analytics.segment.trackPerformance($.adfuelEntries[e].name,$.adfuelEntries[e].startTime),$.adfuelEntries.splice(e,1)})}},e},be=function(e,t,n,o){return{name:e,callback:t,event:n,data:o}},Se=function(e,t,n,o){var r=new Promise(function(r){var i=he.filter(function(t){return!!t.callbacks[e]}).map(function(n){return be(n.name,function(o){n.callbacks[e](t,o)},e,t)});o&&o[e]&&i.push(be(e+"Options",function(n){o[e](t,n)},"preRefreshCallback")),"preQueueCallback"===e&&(ve.log("Adding GPT Slot Build task..."),i.push(be("GPT Slot Build",function(e){v(n,o),e()},e,n))),i.length>0?window.async.parallelWithTimeout(e,X.defaultTimeout,i,function(t,n,o){t&&(ve.log("Error calling "+e+" callbacks for registered modules",{error:t}),r()),r()}):r()});return r},Ee=function(e,t){$.mark("Registry Load ["+e+"] Start");var n=document.createElement("a");n.href=e;var o=n.pathname.replace(/(\.min)?(\.js)$/,".json"),r=n.protocol+"//"+Z+(0===o.indexOf("/")?o:"/"+o),i=new XMLHttpRequest;i.onload=function(){var n=this.response;try{n=JSON.parse(n),ve.log("JSON Parse Complete: ",n),$.mark("Registry Load ["+e+"] End"),$.measure("Registry Load ["+e+"]","Registry Load ["+e+"] Start","Registry Load ["+e+"] End"),t({response:n.registry,error:!1})}catch(e){ve.log("JSON Parse Failed: ",e),n={response:this.response,error:!0},t(n)}};try{ve.log("Requesting JSON: ",r),i.open("GET",r,!0),i.send()}catch(e){ve.log("JSON Request Failed: ",e);var a={response:this.response,error:!0};t(a)}},Ae=function(){function e(e,t){return E||(E=window.googletag.apiReady&&"function"==typeof window.googletag.pubads,!E&&e&&ve.error("GPT is unavailable - "+e,t)),E}function t(e,t){window.googletag.cmd.push(t)}function n(){return new Promise(function(e){S?e():(S=!0,window.googletag.cmd.push(function(){window.googletag.pubads().addEventListener("impressionViewable",function(e){$.mark("Slot Viewable ["+(e.slot?e.slot.getSlotElementId():"NO ID")+"]");var t=new CustomEvent("SlotViewable",{detail:e});document.dispatchEvent(t)}),window.googletag.pubads().addEventListener("slotVisibilityChanged",function(e){var t=new CustomEvent("SlotVisibilityChanged",{detail:e.detail});document.dispatchEvent(t)}),window.googletag.pubads().addEventListener("slotRenderEnded",function(e){var t="Ad Rendered ["+(e.slot?e.slot.getSlotElementId():"NO ID")+"]";$.mark(t),$.queueEntry(t);try{var n={};n.asset=e.slot||null,n.pos=e.slot?e.slot.getTargeting("pos"):[""],n.empty=!!e.isEmpty,n.renderedSize=e.size?e.size:"0x0",n.creativeId=e.creativeId?e.creativeId:"0",n.lineItemId=e.lineItemId?e.lineItemId:"0",n.serviceName=e.serviceName?e.serviceName:"",n.divId=e.slot?e.slot.getSlotElementId():"NO ID";var o=window.googletag&&"function"==typeof window.googletag.pubads?window.googletag.pubads().getTargeting("creativeId"):[],r=window.googletag&&"function"==typeof window.googletag.pubads?window.googletag.pubads().getTargeting("lineItemId"):[];e.creativeId&&o.indexOf(e.creativeId)<0&&o.push(e.creativeId),e.lineItemId&&r.indexOf(e.lineItemId)<0&&r.push(e.lineItemId);var i=new CustomEvent("GPTRenderComplete",{detail:n});document.dispatchEvent(i)}catch(e){ve.error("error dispatching custom Event: GPTRenderComplete",{error:e})}}),window.googletag.pubads().addEventListener("slotOnload",function(e){var t="Slot Loaded ["+(e.slot?e.slot.getSlotElementId():"NO ID")+"]",n=new CustomEvent("GPTSlotLoaded",{detail:e});document.dispatchEvent(n),$.mark(t),$.queueEntry(t)}),ve.log("Enabling 'Collapse Empty Divs'"),window.googletag.pubads().collapseEmptyDivs(!0),ve.log("Enabling 'Async Rendering'"),window.googletag.pubads().enableAsyncRendering(),ve.log("Enabling 'Single Request'"),window.googletag.pubads().enableSingleRequest(),window.AdFuelUtils.getURLParam("enableInitialLoad")||(ve.log("Disabling 'Initial Load'"),window.googletag.pubads().disableInitialLoad()),ve.log("Enabling 'Services'"),window.googletag.enableServices(),e()}))})}function o(t){var n=!1;return e("clearing target",{key:t||"all"})&&(t?window.googletag.cmd.push(function(){window.googletag.pubads().clearTargeting(t)}):window.googletag.cmd.push(function(){window.googletag.pubads().clearTargeting()}),n=!0),n}function r(t,n){var o=!1;return e("setting target",{key:t,value:n})&&(AdFuel.requestScriptText+="googletag.pubads().setTargeting('"+t+"', '"+n+"');\n",window.googletag.cmd.push(function(){window.googletag.pubads().setTargeting(t,n)}),o=!0),o}function i(t,n){var o=!1;return e("setting location",{latitude:t,logitude:n})&&(window.googletag.cmd.push(function(){window.googletag.pubads().setLocation(t,n)}),o=!0),o}function a(t){var n=!1;return e("setting child directed treatment tag: "+t)&&(window.googletag.cmd.push(function(){window.googletag.pubads().clearTagForChildDirectedTreatment(),window.googletag.pubads().setTagForChildDirectedTreatment(t)}),n=!0),n}function l(t){var n=!1;return t.sandbox=!0===t.sandbox||"true"===t.sandbox,t.allowOverlayExpansion=!0===t.allowOverlayExpansion||"true"===t.allowOverlayExpansion,t.allowPushExpansion=!0===t.allowPushExpansion||"true"===t.allowPushExpansion,!0!==t.sandbox&&(ve.log("Removing invalid sandbox value"),delete t.sandbox),e("setting SafeFrame config tag: "+t)&&(window.googletag.cmd.push(function(){window.googletag.pubads().setSafeFrameConfig(t)}),n=!0),n}function s(t){var n=!1;return e("setting category exclusion: "+t)&&(AdFuel.requestScriptText+="googletag.pubads().setCategoryExclusion('"+t+"');\n",window.googletag.cmd.push(function(){window.googletag.pubads().setCategoryExclusion(t)}),n=!0),n}function u(){return!0}function c(t,n){var o=!1;return e("defining out of page slot",{adPath:t,slotId:n})&&(ve.log("Building OOP Slot Object",{adPath:t,slotId:n}),AdFuel.requestScriptText+="\n_pageSlots['"+n+"'] = googletag.defineOutOfPageSlot('"+t+"', '"+n+"').addService(googletag.pubads());\n",o=window.googletag.defineOutOfPageSlot(t,n),o?o.addService(window.googletag.pubads()):ve.warn("Could not define OOP Slot: ",t,n)),o}function d(t,n,o){var r=!1;return e("defining standard slot",{adPath:t,sizes:n,slotId:o})&&(ve.log("Building Standard Slot Object",{adPath:t,sizes:n,slotId:o}),AdFuel.requestScriptText+="\n_pageSlots['"+o+"'] = googletag.defineSlot('"+t+"', "+JSON.stringify(n)+", '"+o+"').addService(googletag.pubads());\n",r=window.googletag.defineSlot(t,n,o),r?r.addService(window.googletag.pubads()):ve.warn("Could not define Slot: ",t,n,o)),r}function f(e,t){if(e){var n=e.getSlotElementId();ve.log("Setting Slot Category Exclusion",{slotId:n,value:t}),AdFuel.requestScriptText+="_pageSlots['"+n+"'].setCategoryExclusion('"+t+"');\n",e.setCategoryExclusion(t)}}function g(e,t,n){if(e){var o=e.getSlotElementId();ve.log("Setting Slot Targeting",{slotId:o,key:t,value:n}),AdFuel.requestScriptText+="_pageSlots['"+o+"'].setTargeting('"+t+"', '"+n+"');\n",e.setTargeting(t,n)}}function p(e,t){if(e){var n=e.getSlotElementId();ve.log("Setting Slot SafeFrame config",{slotId:n,value:t}),AdFuel.requestScriptText+="_pageSlots['"+n+"'].setSafeFrameConfig("+t+");\n",e.setSafeFrameConfig(t)}}function h(e,t){if(e){var n=e.getSlotElementId();ve.log("Setting Slot size mapping",{slotId:n,responsiveMap:t}),AdFuel.requestScriptText+="_pageSlots['"+n+"'].defineSizeMapping('"+JSON.stringify(t)+"');\n",e.defineSizeMapping(t)}}function m(e){AdFuel.requestScriptText+='googletag.display("'+e+'");\n',window.googletag.cmd.push(function(){window.googletag.display(e)})}function w(e){if(e){var t=e.getSlotElementId();ve.log("Clearing targeting for Slot: "+t),AdFuel.requestScriptText+="_pageSlots['"+t+"'].clearTargeting();\n",e.clearTargeting()}}function v(e){var t=0===e.length?"all":e.map(function(e){return e?e.getSlotElementId():"NO ID"}).join(",");AdFuel.requestScriptText+="googletag.pubads().clear("+t+");\n",e.length>0?window.googletag.cmd.push(function(){window.googletag.pubads().clear(e)}):window.googletag.cmd.push(function(){window.googletag.pubads().clear()})}function y(e){var t=0===e.length?"all":e.map(function(e){return e?e.getSlotElementId():"NO ID"}).join(",");AdFuel.requestScriptText+="googletag.pubads().destroySlots("+t+");\n",e.length>0?window.googletag.cmd.push(function(){window.googletag.destroySlots(e)}):window.googletag.cmd.push(function(){window.googletag.destroySlots()})}function b(e,t){var n=t||{maintainCorrelator:!0},o=0===e.length?"all":e.map(function(e){return e?e.getSlotElementId():"NO ID"}).join(",");AdFuel.requestScriptText+="googletag.pubads().refresh("+o+");\n",e.length>0?window.googletag.cmd.push(function(){window.googletag.pubads().refresh(e,{changeCorrelator:!n.maintainCorrelator})}):window.googletag.cmd.push(function(){window.googletag.pubads().refresh(null,{changeCorrelator:!n.maintainCorrelator})})}window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[];var S=!1,E=!1;return{executeWhenAvailable:t,isAvailable:e,configurePubAds:n,clearTargeting:o,setTargeting:r,setLocation:i,setChildDirectedTreatmentTag:a,setSafeFrameConfig:l,setSlotSafeFrameConfig:p,setCategoryExclusion:s,updateCorrelator:u,defineOutOfPageSlot:c,defineSlot:d,setSlotCategoryExclusion:f,setSlotTargeting:g,displaySlotById:m,defineSlotSizeMapping:h,refreshSlots:b,clearSlots:v,clearSlotTargeting:w,destroySlots:y}}(),_e=function(e){var t=Object.assign({normalizeProtocol:!1,normalizeHttps:!0,normalizeHttp:!1,stripFragment:!0,stripWWW:!0,removeQueryParameters:!0,removeTrailingSlash:!0,removeDirectoryIndex:!1},{}),n=e.trim(),o="/"===e[0]&&"/"===e[1],r=!o&&/^\.*\//.test(e);r||(n=e.replace(/^(?!(?:\w+:)?\/\/)|^\/\//,"http://"));var i=document.createElement("a");if(i.href=n,t.normalizeHttps&&t.normalizeHttp)throw new Error("The `normalizeHttp` and `normalizeHttps` options cannot be used together");return t.normalizeHttp&&"http:"===i.protocol&&(i.protocol="https:"),t.normalizeHttps&&"https:"===i.protocol&&(i.protocol="http:"),t.stripFragment&&(i.hash=""),i.pathname&&(i.pathname=i.pathname.replace(/((?![https?:]).)\/{2,}/g,function(e,t){return/^(?!\/)/g.test(t)?t+"/":"/"})),i.pathname&&(i.pathname=decodeURI(i.pathname)),i.hostname&&(i.hostname=i.hostname.replace(/\.$/,""),t.stripWWW&&(i.hostname=i.hostname.replace(/^www\./,""))),t.removeQueryParameters&&(i.search=""),n=i.href,(t.removeTrailingSlash||"/"===i.pathname)&&(n=e.replace(/\/$/,"")),o&&!t.normalizeProtocol&&(n=e.replace(/^http:\/\//,"//")),n};return{init:N,setOptions:z,addEvent:window.AdFuelUtils.addEvent,dynamicTargeting:ue,setBulkTargeting:P,dispatchQueue:T,queueRegistry:k,getQueuedSlots:B,getSlotDetails:j,refresh:I,destroySlots:b,clearSlots:y,removePageLevelTarget:d,removeSlotLevelTarget:g,addPageLevelTarget:c,addSlotLevelTarget:f,registry:new ye,requestScriptText:"",updateCorrelator:G,registerModule:M,unregisterModule:q,registeredModules:he,__VERSION__:Y,__OPTIONS__:X,rocketeerSlots:ie,pageSlots:re,builtSLots:ae,queuedSlots:le,cachedRegistries:we}}(),window.AdFuel.init();